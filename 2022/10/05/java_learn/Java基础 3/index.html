

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.ico">
  <link rel="icon" href="/img/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Sean">
  <meta name="keywords" content="">
  
    <meta name="description" content="本章记录 Java 异常、常用类、集合、泛型的基础应用">
<meta property="og:type" content="article">
<meta property="og:title" content="Java基础 第三章">
<meta property="og:url" content="https://nxblog.github.io/2022/10/05/java_learn/Java%E5%9F%BA%E7%A1%80%203/index.html">
<meta property="og:site_name" content="灵感集市">
<meta property="og:description" content="本章记录 Java 异常、常用类、集合、泛型的基础应用">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/diagrams/%E5%BC%82%E5%B8%B8%E4%BD%93%E7%B3%BB%E5%9B%BE.svg">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/diagrams/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%A4%BA%E6%84%8F%E5%9B%BE.svg">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/diagrams/String%E7%B1%BB.svg">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/diagrams/String%E7%9A%84%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.svg">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/mk-2022-05-15-22-15.png">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/mk-2022-05-15-23-54.png">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/diagrams/StringBuffer%E7%B1%BB.svg">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/diagrams/StringBuilder%E7%B1%BB.svg">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/mk-2022-05-26-15-27.png">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/diagrams/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E4%BD%93%E7%B3%BB%E5%9B%BE.svg">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/mk-2022-05-31-17-09.png">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/mk-2022-06-01-17-58.png">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/mk-2022-06-04-16-01.png">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/mk-2022-06-09-16-33.png">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/mk-2022-06-06-10-40.png">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/mk-2022-06-06-21-09.png">
<meta property="og:image" content="https://nxblog.github.io/img/java_learn/mk-2022-06-09-15-56.png">
<meta property="article:published_time" content="2022-10-05T02:03:00.000Z">
<meta property="article:modified_time" content="2022-10-05T03:53:49.266Z">
<meta property="article:author" content="Sean">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="学习">
<meta property="article:tag" content="技术">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://nxblog.github.io/img/java_learn/diagrams/%E5%BC%82%E5%B8%B8%E4%BD%93%E7%B3%BB%E5%9B%BE.svg">
  
  
  
  <title>Java基础 第三章 - 灵感集市</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"nxblog.github.io","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Sean的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-books"></i>
                库
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" target="_blank" rel="noopener" href="https://hexo.fluid-dev.com/">
                    
                    知识分享
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" target="_blank" rel="noopener" href="https://hexo.fluid-dev.com/">
                    
                    摄影日记
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" target="_blank" rel="noopener" href="https://hexo.fluid-dev.com/">
                    
                    经验杂谈
                  </a>
                
              </div>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/bg/bg.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Java基础 第三章"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-10-05 10:03" pubdate>
          2022年10月5日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          91k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          760 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Java基础 第三章</h1>
            
            
              <div class="markdown-body">
                
                <blockquote>
<p>本章记录 Java 异常、常用类、集合、泛型的基础应用</p>
</blockquote>
<span id="more"></span>

<h1 id="Java-基础-第三章"><a href="#Java-基础-第三章" class="headerlink" title="Java 基础 第三章"></a>Java 基础 第三章</h1><h2 id="十一、异常"><a href="#十一、异常" class="headerlink" title="十一、异常"></a>十一、异常</h2><h3 id="异常的概念"><a href="#异常的概念" class="headerlink" title="异常的概念"></a>异常的概念</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Exception01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">num1</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">num2</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><br>        <span class="hljs-comment">// int res = num1 / num2;</span><br><br>        <span class="hljs-comment">// 因为 num2 = 0，因此程序会抛出异常 ArithmeticException</span><br>        <span class="hljs-comment">// 当抛出异常后，程序就退出，崩溃了，下面的代码就不再执行</span><br>        <span class="hljs-comment">// 这样不合理，不应该出现了一个不算致命的问题，就导致整个程序系统崩溃</span><br>        <span class="hljs-comment">// Java 设计者，提供了一个 异常处理机制 来解决该问题</span><br>        <span class="hljs-comment">// 如果程序员认为一段代码可能出现异常/问题，可以使用 try-catch 异常处理机制来解决</span><br>        <span class="hljs-comment">// 从而保证程序的健壮性</span><br>        <span class="hljs-comment">// IDEA：将该代码块 -&gt; 选中 -&gt; 快捷键 Ctrl + Alt + T -&gt; 选中 try-catch</span><br>        <span class="hljs-comment">// VSCode：try catch</span><br>        <span class="hljs-comment">// 如果进行了 异常处理，那么即使出现了异常，程序可以继续执行</span><br><br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> num1 / num2;<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;异常原因：&quot;</span> + e.getMessage()); <span class="hljs-comment">// 输出异常信息</span><br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;程序继续运行&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="异常的基本概念"><a href="#异常的基本概念" class="headerlink" title="异常的基本概念"></a>异常的基本概念</h4><ul>
<li>Java 语言中，将程序执行中发生的<strong>不正常情况</strong>称为「异常」。（开发过程中的语法错误和逻辑错误<strong>不是异常</strong>）</li>
</ul>
<h4 id="异常的分类"><a href="#异常的分类" class="headerlink" title="异常的分类"></a>异常的分类</h4><ul>
<li>执行过程中所发生的异常事件可分为两类<ol>
<li><code>Error(错误)</code>: Java 虚拟机无法解决的<strong>严重问题</strong>。如：JVM 系统内部错误资源耗尽等严重情况。比如：<code>StackOverflowError[栈溢出]</code> 和 <code>OOM(out of memory)</code>, <code>Error</code> 是严重错误，程序会<strong>崩溃</strong></li>
<li><code>Exception</code>: 其它因编程错误或偶然的外在因素导致的<strong>一般性问题</strong>，可以使用针对性的代码进行处理。例如空指针访问，试图读取不存在的文件，网络连接中断等等。<code>Exception</code> 分为两大类：<code>运行时异常[程序运行时，发生的异常]</code> 和 <code>编译时异常[编程时，编译器检查出的异常]</code></li>
</ol>
</li>
</ul>
<h3 id="异常体系图（重点）"><a href="#异常体系图（重点）" class="headerlink" title="异常体系图（重点）"></a>异常体系图（重点）</h3><h4 id="异常体系图（简化版）"><a href="#异常体系图（简化版）" class="headerlink" title="异常体系图（简化版）"></a>异常体系图（简化版）</h4><p><img src="/img/java_learn/diagrams/%E5%BC%82%E5%B8%B8%E4%BD%93%E7%B3%BB%E5%9B%BE.svg" srcset="/img/loading.gif" lazyload alt="异常体系图（简化版）"></p>
<h4 id="异常体系图小结"><a href="#异常体系图小结" class="headerlink" title="异常体系图小结"></a>异常体系图小结</h4><ol>
<li>异常分为两大类，「运行时异常」和「编译时异常」</li>
<li>「运行时异常」，编译器无法检测，<strong>不要求强制处置</strong>的异常。一般是指编程时的逻辑错误，是程序员应该避免其出现的异常。<code>java.lang.RuntimeException</code> 类及它的子类都是「运行时异常」</li>
<li>对于「运行时异常」，可以不作处理，因为这类异常很普遍，若全处理可能会对程序的可读性和运行效率产生影响</li>
<li>「编译时异常」，是编译器要求<strong>必须处置</strong>的异常。</li>
</ol>
<h3 id="常见的异常"><a href="#常见的异常" class="headerlink" title="常见的异常"></a>常见的异常</h3><h4 id="运行异常"><a href="#运行异常" class="headerlink" title="运行异常"></a>运行异常</h4><ol>
<li><p>NullPointerException 空指针异常</p>
<ul>
<li><p>当应用程序试图在需要对象的地方使用 <code>null</code> 时，抛出该异常</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NullPointerException_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><br>        System.out.println(name.length()); <span class="hljs-comment">// 错误，抛出 NullPointerException</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>ArithmeticException 数学运算异常</p>
<ul>
<li><p>当出现异常的运算条件时，抛出此异常。例如，一个整数除以零时</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArithmeticException_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><br>        System.out.println(n1 / n2); <span class="hljs-comment">// 错误，抛出 ArithmeticException</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>ArrayIndexOutOfBoundsException 数组下标越界异常</p>
<ul>
<li><p>用非法索引访问数组时抛出的异常。如果索引为负或大于等于数组大小，则该索引为非法索引</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayIndexOutOfBoundsException_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span>[] arr = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;;<br><br>        System.out.println(arr[<span class="hljs-number">3</span>]); <span class="hljs-comment">// 错误，抛出 ArrayIndexOutOfBoundsException</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>ClassCastException 类型转换异常</p>
<ul>
<li><p>当试图将对象强制转换为不是实例的子类时，抛出该异常</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassCastException_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">A</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">B</span>(); <span class="hljs-comment">// 向上转型</span><br>        <span class="hljs-type">B</span> <span class="hljs-variable">b2</span> <span class="hljs-operator">=</span> (B)b; <span class="hljs-comment">// 向下转型</span><br>        <span class="hljs-type">C</span> <span class="hljs-variable">c2</span> <span class="hljs-operator">=</span> (C)b; <span class="hljs-comment">// 错误，抛出 ClassCastException</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">A</span> &#123;&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">A</span> &#123;&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>NumberFormatException 数字格式不正确异常</p>
<ul>
<li><p>当应用程序试图将字符串转换成一种数值类型，但该字符串不能转换为适当格式时，抛出该异常。使用异常我们可以确保输入是满足条件的数字</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NumberFormatException_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;1234&quot;</span>;<br>        <span class="hljs-comment">// 将 String 转成 int</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> Integer.parseInt(name); <span class="hljs-comment">// 错误，抛出 NumberFormatException</span><br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h4 id="编译异常"><a href="#编译异常" class="headerlink" title="编译异常"></a>编译异常</h4><p>编译异常是指在编译期间，就必须处理的异常，否则代码不能通过编译</p>
<p>常见的编译异常：</p>
<ol>
<li>SQLException 操作数据库时，查询表可能发生异常</li>
<li>IOException 操作文件时，发生的异常</li>
<li>FileNotFoundException 当操作一个不存在的文件时，发生异常</li>
<li>ClassNotFoundException 加载类，而该类不存在时，异常</li>
<li>EOFException 操作文件，到文件末尾，发生异常</li>
<li>illegalArgumentException 参数异常</li>
</ol>
<h4 id="异常小练习"><a href="#异常小练习" class="headerlink" title="异常小练习"></a>异常小练习</h4><p>看看下面代码是否正确，为什么？</p>
<ul>
<li><p>第一题：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ArrayIndexOutOfBoundsException 数组下标越界异常</span><br>String friends[] = &#123;<span class="hljs-string">&quot;tom&quot;</span>, <span class="hljs-string">&quot;jack&quot;</span>, <span class="hljs-string">&quot;milan&quot;</span>&#125;;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++) &#123;<br>    System.out.println(friends[i]);<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>第二题：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// NullPointerException 空指针异常</span><br><span class="hljs-type">Cat</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>();<br>cat = <span class="hljs-literal">null</span>;<br>System.out.println(cat.name);<br></code></pre></td></tr></table></figure>
</li>
<li><p>第三题</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ArithmeticException 数学运算异常</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br>    <span class="hljs-type">int</span> x;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> y;<br>        <span class="hljs-type">A</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">A</span>();<br>        y = <span class="hljs-number">3</span> / a.x;<br>        System.out.println(<span class="hljs-string">&quot;program ends ok!&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>第四题</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ClassCastException 类型转换异常</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>        Person person;<br>        person = (Person)obj;<br>        System.out.println(person);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><h4 id="异常处理概念"><a href="#异常处理概念" class="headerlink" title="异常处理概念"></a>异常处理概念</h4><p>异常处理就是当异常发生时，对异常处理的方式，在 Java 中提供了两种异常处理方式</p>
<ol>
<li><code>try-catch-finally</code>: 程序员在代码中捕获发生的异常，自行处理</li>
<li><code>throws</code>: 将发生的异常抛出，交给调用者来处理，最顶级的处理者就是 JVM</li>
</ol>
<ul>
<li>异常处理示意图<br><img src="/img/java_learn/diagrams/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%A4%BA%E6%84%8F%E5%9B%BE.svg" srcset="/img/loading.gif" lazyload alt="异常处理示意图"></li>
</ul>
<h4 id="try-catch-异常处理"><a href="#try-catch-异常处理" class="headerlink" title="try-catch 异常处理"></a>try-catch 异常处理</h4><ol>
<li><p>try-catch 基本介绍<br> Java 提供 <code>try</code> 和 <code>catch</code> 块来处理异常。<code>try</code> 块用于包含坑出错的代码。<code>catch</code> 块用于处理 <code>try</code> 块中发生的异常。可以根据需要在程序中有多个数量的 <code>try-catch</code> 块</p>
</li>
<li><p>try-catch 基本语法</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-comment">// 可疑代码</span><br>    <span class="hljs-comment">// 将异常生成对应的异常对象，传递给 catch 块</span><br>&#125; <span class="hljs-keyword">catch</span>(异常) &#123;<br>    <span class="hljs-comment">// 对异常的处理</span><br>&#125; <span class="hljs-keyword">finally</span> &#123;<br>    <span class="hljs-comment">// 释放资源等..</span><br>&#125;<br><span class="hljs-comment">// 如果没有 finally，语法是通过的</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>try-catch 注意事项</p>
<ol>
<li><p>如果异常<strong>发生</strong>了，则异常发生后面的代码<strong>不会</strong>执行，直接进入到 <code>catch</code> 块</p>
</li>
<li><p>如果异常<strong>没有发生</strong>，则顺序执行 <code>try</code> 的代码块，<strong>不会</strong>进入到 <code>catch</code></p>
</li>
<li><p>如果希望不管是否发生异常，都执行某段代码（比如关闭连接，释放资源等），则使用 <code>finally</code> 块</p>
</li>
<li><p>可以有多个 <code>catch</code> 语句，捕获不同的异常（进行不同的业务处理），要求父类异常在后，子类异常在前，比如（<code>Exception</code> 在后，<code>NullPointerException</code> 在前），如果发生异常，只会匹配一个 <code>catch</code></p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TryCatchDetail</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 1. 如果 try 代码块可能有多个异常</span><br>        <span class="hljs-comment">// 2. 可以使用多个 catch 分别捕获不同的异常，相应处理</span><br>        <span class="hljs-comment">// 3. 要求子类异常写在父类异常的前面</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();<br>            person = <span class="hljs-literal">null</span>;<br>            System.out.println(person.getName());<br><br>            <span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> n1 / n2;<br>        &#125; <span class="hljs-keyword">catch</span> (NullPointerException e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;空指针异常 = &quot;</span> + e.getMessage());<br>        &#125; <span class="hljs-keyword">catch</span> (ArithmeticException e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;算术异常 = &quot;</span> + e.getMessage());<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(e.getMessage());<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Jack&quot;</span>;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>可以进行 <code>try-finally</code> 配合使用，这种用法相当与<strong>没有捕获异常</strong>，因此程序会<strong>直接崩溃</strong>。应用场景：执行一段代码，不管是否发生异常，都必须执行某个业务逻辑</p>
</li>
</ol>
</li>
<li><p>try-catch 执行顺序小结</p>
<ol>
<li>如果没有出现异常，则执行 <code>try</code> 块中所有语句，不执行 <code>catch</code> 块中语句，如果有 <code>finally</code> ,最后还需要执行 <code>finally</code> 里面的语句</li>
<li>如果出现异常，则 <code>try</code> 块中异常发生后，剩下的语句不再执行。将执行 <code>catch</code> 块中的语句，如果有 <code>finally</code>，最后还需要执行 <code>finally</code> 里面的语句</li>
</ol>
</li>
<li><p>try-catch 练习</p>
<ol>
<li><p>题1：分析下列代码输出什么内容</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TryCatch01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            String[] names = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[<span class="hljs-number">3</span>]; <span class="hljs-comment">// &#123;null, null, null&#125;</span><br>            <span class="hljs-keyword">if</span> (names[<span class="hljs-number">1</span>].equals(<span class="hljs-string">&quot;Tom&quot;</span>)) &#123; <span class="hljs-comment">// 抛出空指针异常</span><br>                System.out.println(names[<span class="hljs-number">1</span>]);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                names[<span class="hljs-number">3</span>] = <span class="hljs-string">&quot;Hello&quot;</span>;<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125; <span class="hljs-keyword">catch</span> (ArrayIndexOutOfBoundsException e) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>        &#125; <span class="hljs-keyword">catch</span> (NullPointerException e) &#123; <span class="hljs-comment">// 捕获空指针异常</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">3</span>;<br>        &#125; <span class="hljs-keyword">finally</span> &#123; <span class="hljs-comment">// 必须执行</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        System.out.println(method()); <span class="hljs-comment">// 4</span><br>    &#125;<br>&#125;<br><span class="hljs-comment">// 输出语句：</span><br><span class="hljs-comment">// 4</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>题2：分析下列代码输出什么内容</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TryCatch02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            i++; <span class="hljs-comment">// i = 2</span><br>            String[] names = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[<span class="hljs-number">3</span>]; <span class="hljs-comment">// &#123;null, null, null&#125;</span><br>            <span class="hljs-keyword">if</span> (names[<span class="hljs-number">1</span>].equals(<span class="hljs-string">&quot;Tom&quot;</span>)) &#123; <span class="hljs-comment">// 抛出空指针异常</span><br>                System.out.println(names[<span class="hljs-number">1</span>]);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                names[<span class="hljs-number">3</span>] = <span class="hljs-string">&quot;Hello&quot;</span>;<br>            &#125;<br>            <span class="hljs-keyword">return</span> ++i;<br>        &#125; <span class="hljs-keyword">catch</span> (ArrayIndexOutOfBoundsException e) &#123;<br>            <span class="hljs-keyword">return</span> ++i;<br>        &#125; <span class="hljs-keyword">catch</span> (NullPointerException e) &#123; <span class="hljs-comment">// 捕获空指针异常</span><br>            <span class="hljs-keyword">return</span> ++i; <span class="hljs-comment">// i = 3</span><br>        &#125; <span class="hljs-keyword">finally</span> &#123; <span class="hljs-comment">// 必须执行</span><br>            <span class="hljs-keyword">return</span> ++i; <span class="hljs-comment">// i = 4</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        System.out.println(method()); <span class="hljs-comment">// 4</span><br>    &#125;<br>&#125;<br><span class="hljs-comment">// 输出语句：</span><br><span class="hljs-comment">// 4</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>题3：分析下列代码输出什么内容</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TryCatch03</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            i++; <span class="hljs-comment">// i = 2</span><br>            String[] names = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[<span class="hljs-number">3</span>]; <span class="hljs-comment">// &#123;null, null, null&#125;</span><br>            <span class="hljs-keyword">if</span> (names[<span class="hljs-number">1</span>].equals(<span class="hljs-string">&quot;Tom&quot;</span>)) &#123; <span class="hljs-comment">// 抛出空指针异常</span><br>                System.out.println(names[<span class="hljs-number">1</span>]);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                names[<span class="hljs-number">3</span>] = <span class="hljs-string">&quot;Hello&quot;</span>;<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125; <span class="hljs-keyword">catch</span> (ArrayIndexOutOfBoundsException e) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>        &#125; <span class="hljs-keyword">catch</span> (NullPointerException e) &#123; <span class="hljs-comment">// 捕获空指针异常</span><br>            <span class="hljs-keyword">return</span> ++i; <span class="hljs-comment">// i = 3 -&gt; 保存到临时变量 temp = 3</span><br>        &#125; <span class="hljs-keyword">finally</span> &#123; <span class="hljs-comment">// 必须执行</span><br>            ++i; <span class="hljs-comment">// i = 4</span><br>            System.out.println(<span class="hljs-string">&quot;i = &quot;</span> + i); <span class="hljs-comment">// i = 4</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        System.out.println(method()); <span class="hljs-comment">// 3</span><br>    &#125;<br>&#125;<br><span class="hljs-comment">// 输出语句：</span><br><span class="hljs-comment">// i = 4</span><br><span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>如果用户输入的不是一个整数，就提示他反复输入，直到输入一个整数为止</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TryCatch04</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">input</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-keyword">for</span> (;;) &#123;<br>            <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>            System.out.print(<span class="hljs-string">&quot;请输入一个整数：&quot;</span>);<br>            input = scanner.next();<br>            <span class="hljs-keyword">try</span> &#123;<br>                num = Integer.parseInt(input); <span class="hljs-comment">// 可能抛出异常</span><br>                System.out.println(<span class="hljs-string">&quot;输入正确！&quot;</span>);<br>                <span class="hljs-keyword">break</span>;<br>            &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>                System.out.println(<span class="hljs-string">&quot;输入错误，请重新输入！&quot;</span>);<br>            &#125;<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;输入的值为：&quot;</span> + num);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h4 id="throws-异常处理"><a href="#throws-异常处理" class="headerlink" title="throws 异常处理"></a>throws 异常处理</h4><ol>
<li><p>throws 基本介绍</p>
<ol>
<li>如果一个方法（中的语句执行时）可能生成某种异常，但是并不能确定如何处理这种异常，则此方法应显示地声明抛出异常，表明该方法将不对这些异常进行处理，而由该方法的<strong>调用者</strong>负责处理</li>
<li>在方法声明中用 <code>throws</code> 语句可以声明抛出异常的列表，<code>throws</code> 后面的异常类型可以是方法中产生的异常类型，也可以是它的父类</li>
</ol>
</li>
<li><p>throws 基本语法</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Throws01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">f2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> FileNotFoundException, NullPointerException   &#123;<br>        <span class="hljs-comment">// 创建一个文件流对象</span><br>        <span class="hljs-comment">// 解读：</span><br>        <span class="hljs-comment">// 1. 这里的异常是一个 FileNotFoundException 编译异常</span><br>        <span class="hljs-comment">// 2. 第一种方式：使用 try-catch-finally 处理异常</span><br>        <span class="hljs-comment">// 3. 第二种方式：使用 throws 抛出异常，让调用 f2() 方法的调用者处理</span><br>        <span class="hljs-comment">// 4. throws 后面的异常类型可以是方法中产生的异常类型，也可以是它的父类</span><br>        <span class="hljs-comment">// 5. throws 关键字后也可以是 异常列表，抛出多个异常</span><br>        <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;d://aa.txt&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>throws 注意事项</p>
<ol>
<li>对于编译异常，程序中<strong>必须处理</strong>，比如 <code>try-catch</code> 或者 <code>throws</code></li>
<li>对于运行时异常，程序中如果没有处理，默认就是 <code>throws</code> 的方式处理</li>
<li>子类重写父类的方法时，对抛出异常的规定：子类重写的方法，所抛出的异常类型要么和父类抛出的异常一致，要么为父类抛出的异常的类型的子类型</li>
<li>在 <code>throws</code> 过程中，如果有方法 <code>try-catch</code>，就相当于处理异常，就可以不必 <code>throws</code></li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Throws02</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">f1</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 报错</span><br>        <span class="hljs-comment">// f2() 方法抛出一个编译异常</span><br>        <span class="hljs-comment">// f1() 必须处理这个编译异常</span><br>        <span class="hljs-comment">// 要么 try-catch-finally，要么继续 throws</span><br>        <span class="hljs-comment">// 否则就会报错</span><br>        <span class="hljs-comment">// f2(); // 调用 f2() 方法</span><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">f2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> FileNotFoundException &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">f3</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 正确</span><br>        <span class="hljs-comment">// f5() 抛出的是运行异常</span><br>        <span class="hljs-comment">// Java 中，运行异常有默认处理机制，并不要求程序员显式处理</span><br>        f4(); <span class="hljs-comment">// 调用 f4() 方法</span><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">f4</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> RuntimeException &#123;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">* 子类重写父类的方法时，对抛出异常的规定：</span><br><span class="hljs-comment">* 子类重写的方法，所抛出的异常类型要么和父类抛出的一致</span><br><span class="hljs-comment">* 要么为父类抛出异常的子类型</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Father</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> RuntimeException &#123;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Son</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Father</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> ArithmeticException &#123;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h3><ol>
<li><p>自定义异常基本概念<br>当程序中出现了某些「错误」，但该错误信息并没有在 <code>Throwable</code> 子类中描述处理，这个时候可以自己设计异常类，用于描述该错误信息</p>
</li>
<li><p>自定义异常的步骤</p>
<ol>
<li>定义类：自定义异常类名继承 <code>Exception</code> 或 <code>RuntimeException</code></li>
<li>如果继承 <code>Exception</code>，属于编译异常</li>
<li>如果继承 <code>RuntimeException</code>，属于运行异常</li>
<li>推荐继承 <code>RuntimeException</code></li>
</ol>
</li>
<li><p>自定义异常的应用实例</p>
<ul>
<li>当我们接收 <code>Person</code> 对象年龄时，要求范围在 18-120 之间，否则抛出一个自定义异常，并给出提示信息</li>
<li>要求继承 <code>RuntimeException</code></li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomException</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">180</span>;<br>        <span class="hljs-comment">// 要求年龄范围在 18-120 之间，否则抛出一个自定义异常</span><br>        <span class="hljs-keyword">if</span> (!(age &gt;= <span class="hljs-number">18</span> &amp;&amp; age &lt;= <span class="hljs-number">120</span>)) &#123;<br>            <span class="hljs-comment">// 这里可以通过构造器，设置信息</span><br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AgeException</span>(<span class="hljs-string">&quot;年龄需要在 18-120 之间&quot;</span>);<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;你的年龄范围正确&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 自定义异常</span><br><span class="hljs-comment">// 一般情况下，自定义异常继承 RuntimeException，即做成运行时异常</span><br><span class="hljs-comment">// 好处是，可以使用默认的处理机制，比较方便</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AgeException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RuntimeException</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">AgeException</span><span class="hljs-params">(String message)</span> &#123;<br>        <span class="hljs-built_in">super</span>(message);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="throw-和-throws-的对比"><a href="#throw-和-throws-的对比" class="headerlink" title="throw 和 throws 的对比"></a>throw 和 throws 的对比</h3><ul>
<li><p>一览表</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">意义</th>
<th align="left">位置</th>
<th align="left">后面跟的东西</th>
</tr>
</thead>
<tbody><tr>
<td align="left">throws</td>
<td align="left">异常处理的一种方式</td>
<td align="left">方法声明处</td>
<td align="left">异常类型</td>
</tr>
<tr>
<td align="left">throw</td>
<td align="left">手动<strong>生成异常</strong>对象的关键字</td>
<td align="left">方法体中</td>
<td align="left">异常对象</td>
</tr>
</tbody></table>
</li>
<li><p>测试题：下面的代码输出什么</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThrowException</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            ReturnExceptionDemo.methodA();<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(e.getMessage());<br>        &#125;<br><br>        ReturnExceptionDemo.methodB();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ReturnExceptionDemo</span> &#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">methodA</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;进入方法 A&quot;</span>); <span class="hljs-comment">// 1</span><br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;制造异常&quot;</span>); <span class="hljs-comment">// 3</span><br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;调用 A 方法的 finally&quot;</span>); <span class="hljs-comment">// 2</span><br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">methodB</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;进入方法 B&quot;</span>); <span class="hljs-comment">// 4</span><br>            <span class="hljs-keyword">return</span>;<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;调用 A 方法的 finally&quot;</span>); <span class="hljs-comment">// 5</span><br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 输出内容：</span><br><span class="hljs-comment">// 进入方法 A</span><br><span class="hljs-comment">// 调用 A 方法的 finally</span><br><span class="hljs-comment">// 制造异常</span><br><span class="hljs-comment">// 进入方法 B</span><br><span class="hljs-comment">// 调用 A 方法的 finally</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="十一章作业"><a href="#十一章作业" class="headerlink" title="十一章作业"></a>十一章作业</h3><ol>
<li><p>编程题</p>
<ol>
<li>编写应用程序，接收用户输入的两个参数（整数），计算两数相除</li>
<li>计算两个数相除，要求使用方法 <code>cal(int n1, int n2)</code></li>
<li>对 数据格式不正确 (<code>NumberFormatException</code>)、除 0 (<code>ArithmeticException</code>) 进行异常处理</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        System.out.println(<span class="hljs-string">&quot;请输入两个整数：&quot;</span>);<br>        System.out.print(<span class="hljs-string">&quot;第一个数：&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">input1</span> <span class="hljs-operator">=</span> scanner.next();<br>        System.out.print(<span class="hljs-string">&quot;第二个数：&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">input2</span> <span class="hljs-operator">=</span> scanner.next();<br><br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> Integer.parseInt(input1);<br>            <span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> Integer.parseInt(input2);<br><br>            <span class="hljs-type">double</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> cal(n1, n2); <span class="hljs-comment">// 该方法可能抛出异常</span><br>            System.out.println(<span class="hljs-string">&quot;计算结果：&quot;</span> + res);<br><br>        &#125; <span class="hljs-keyword">catch</span> (NumberFormatException e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;输入格式错误&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (ArithmeticException e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;错误，除数不能为 0&quot;</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">double</span> <span class="hljs-title function_">cal</span><span class="hljs-params">(<span class="hljs-type">int</span> n1, <span class="hljs-type">int</span> n2)</span> &#123;<br>        <span class="hljs-keyword">if</span> (n2 == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArithmeticException</span>();<br>        &#125;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-type">double</span>) n1 / n2;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>分析题</p>
<ul>
<li>下面的代码会发生哪些异常</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// args.length = 0</span><br>        <span class="hljs-comment">// 这里发生的是 ArrayIndexOutOfBoundsException</span><br>        <span class="hljs-keyword">if</span> (args[<span class="hljs-number">4</span>].equals(<span class="hljs-string">&quot;john&quot;</span>)) &#123; <span class="hljs-comment">// 可能发生 NullPointerException</span><br>            System.out.println(<span class="hljs-string">&quot;AA&quot;</span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;BB&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">o</span> <span class="hljs-operator">=</span> args[<span class="hljs-number">2</span>]; <span class="hljs-comment">// 可能发生 ArrayIndexOutOfBoundsException</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> (Integer)o; <span class="hljs-comment">// 一定发生 ClassCastException</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>分析题</p>
<ul>
<li>写出程序结果</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework03</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            func();<br>            System.out.println(<span class="hljs-string">&quot;A&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;C&quot;</span>);<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;D&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">func</span><span class="hljs-params">()</span> &#123;<br><br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>();<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;B&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-comment">// 输出结果</span><br><span class="hljs-comment">// B, C, D</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>分析题</p>
<ul>
<li>写出程序结果</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework04</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            showException();<br>            System.out.println(<span class="hljs-string">&quot;A&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;B&quot;</span>);<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;C&quot;</span>);<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;D&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showException</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Exception</span>();<br>    &#125;<br>&#125;<br><span class="hljs-comment">// 输出内容：</span><br><span class="hljs-comment">// B, C, D</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="十二、常用类"><a href="#十二、常用类" class="headerlink" title="十二、常用类"></a>十二、常用类</h2><h3 id="Wrapper-包装类"><a href="#Wrapper-包装类" class="headerlink" title="Wrapper 包装类"></a>Wrapper 包装类</h3><h4 id="包装类的分类"><a href="#包装类的分类" class="headerlink" title="包装类的分类"></a>包装类的分类</h4><ol>
<li>针对八种基本数据类型相应的引用类型————包装类</li>
<li>有了类的特点，就可以调用类中的方法</li>
</ol>
<table>
<thead>
<tr>
<th align="center">基本数据类型</th>
<th align="center">包装类</th>
<th align="center">父类</th>
</tr>
</thead>
<tbody><tr>
<td align="center">boolean</td>
<td align="center">Boolean</td>
<td align="center">Object</td>
</tr>
<tr>
<td align="center">char</td>
<td align="center">Character</td>
<td align="center">Object</td>
</tr>
<tr>
<td align="center">byte</td>
<td align="center">Byte</td>
<td align="center">Number</td>
</tr>
<tr>
<td align="center">short</td>
<td align="center">Short</td>
<td align="center">Number</td>
</tr>
<tr>
<td align="center">int</td>
<td align="center">Integer</td>
<td align="center">Number</td>
</tr>
<tr>
<td align="center">long</td>
<td align="center">Long</td>
<td align="center">Number</td>
</tr>
<tr>
<td align="center">float</td>
<td align="center">Float</td>
<td align="center">Number</td>
</tr>
<tr>
<td align="center">double</td>
<td align="center">Double</td>
<td align="center">Number</td>
</tr>
</tbody></table>
<ul>
<li>Boolean类图<br>&lt;img&#x2F;java_learn src&#x3D;”img&#x2F;java_learn&#x2F;mk-2022-05-15-12-26.png” alt &#x3D; “Boolean类图” width&#x3D;60% &#x2F;&gt;</li>
<li>Character类图<br>&lt;img&#x2F;java_learn src&#x3D;”img&#x2F;java_learn&#x2F;mk-2022-05-15-12-24.png” alt &#x3D; “Character类图” width&#x3D;60% &#x2F;&gt;</li>
<li>其他类图<br>&lt;img&#x2F;java_learn src&#x3D;”img&#x2F;java_learn&#x2F;mk-2022-05-15-12-25.png” alt &#x3D; “其他类图” width&#x3D;60% &#x2F;&gt;</li>
</ul>
<!-- ![Boolean类图](img/java_learn/mk-2022-05-15-12-26.png)
![Character类图](img/java_learn/mk-2022-05-15-12-24.png)
![类图](img/java_learn/mk-2022-05-15-12-25.png) -->

<h4 id="包装类的转换"><a href="#包装类的转换" class="headerlink" title="包装类的转换"></a>包装类的转换</h4><ol>
<li>JDK5 前使用手动装箱和拆箱<ul>
<li>装箱：<code>基本类型-&gt;包装类型</code></li>
<li>拆箱：<code>包装类型-&gt;基本类型</code></li>
</ul>
</li>
<li>JDK5 以后（含 JDK5）使用<strong>自动装箱</strong>和<strong>自动拆箱</strong></li>
<li>自动装箱<strong>底层</strong>调用的是 <code>valueOf()</code> 方法，比如 <code>Integer.valueOf()</code></li>
</ol>
<ul>
<li><p>演示包装类和基本数据类型的相互转换，这里以 <code>int</code> 和 <code>Integer</code> 演示，其他包装类的用法类似</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Integer01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// JDK5 前的手动装箱和拆箱方式</span><br>        <span class="hljs-comment">// 手动装箱</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">integer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(n1);<br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">integer2</span> <span class="hljs-operator">=</span> Integer.valueOf(n1);<br>        <span class="hljs-comment">// 手动拆箱</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> integer.intValue();<br><br>        <span class="hljs-comment">// JDK5 以后（含 JDK5）的自动装箱和自动拆箱方式</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> <span class="hljs-number">200</span>;<br>        <span class="hljs-comment">// 底层使用的是 Integer.valueOf(n2) 方法</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">integer3</span> <span class="hljs-operator">=</span> n2;<br><br>        <span class="hljs-comment">// 底层使用的仍然是 intValue() 方法</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">n3</span> <span class="hljs-operator">=</span> integer2; <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>下面两个题目输出结果相同吗？各是什么？</p>
<ul>
<li><p>题目一</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 三元运算符是一个整体</span><br><span class="hljs-type">Object</span> <span class="hljs-variable">obj1</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span> ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(<span class="hljs-number">1</span>) : <span class="hljs-keyword">new</span> <span class="hljs-title class_">Double</span>(<span class="hljs-number">2.0</span>);<br>System.out.println(obj1);<br><span class="hljs-comment">// 输出：1.0</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>题目二</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">Object obj2;<br><span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) &#123;<br>    obj2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(<span class="hljs-number">1</span>);<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    obj2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Double</span>(<span class="hljs-number">2.0</span>);<br>&#125;<br>System.out.println(obj2);<br><span class="hljs-comment">// 输出：1</span><br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>演示包装类型和 <code>String</code> 类型的相互转换，以 <code>Integer</code> 和 <code>String</code> 转换为例</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WrapperVSString</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 包装类型 -&gt; String 类型</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>; <span class="hljs-comment">// 自动装箱</span><br>        <span class="hljs-comment">// 方式 1：</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> i + <span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-comment">// 方式 2：</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> Integer.toString(i);<br>        <span class="hljs-comment">// 方式 3：</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> String.valueOf(i);<br><br>        System.out.println(s1 + <span class="hljs-string">&quot;, &quot;</span> + s2 + <span class="hljs-string">&quot;, &quot;</span> + s3);<br><br>        <span class="hljs-comment">// String -&gt; 包装类</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;200&quot;</span>;<br>        <span class="hljs-comment">// 方式 1：</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">j1</span> <span class="hljs-operator">=</span> Integer.valueOf(s);<br>        <span class="hljs-comment">// 方式 2：</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">j2</span> <span class="hljs-operator">=</span> Integer.parseInt(s);<br>        <span class="hljs-comment">// 方式 3：</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">j3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(s); <span class="hljs-comment">// 已过时</span><br><br>        System.out.println(j1 + <span class="hljs-string">&quot;, &quot;</span> + j2 + <span class="hljs-string">&quot;, &quot;</span> + j3);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="包装类常用方法"><a href="#包装类常用方法" class="headerlink" title="包装类常用方法"></a>包装类常用方法</h4><ul>
<li>这里介绍 <code>Integer</code> 类和 <code>Character</code>类的常用方法，其他类类似</li>
<li><code>Integer</code> 类和 <code>Character</code> 类常用方法<ol>
<li><code>Integer.MIN_VALUE</code>: 返回最小值</li>
<li><code>Integer.MIN_VALUE</code>: 返回最大值</li>
<li><code>Character.isDigit()</code>: 判断是不是数字</li>
<li><code>Character.isLetter()</code>: 判断是不是字母</li>
<li><code>Character.isUpperCase()</code>: 判断是不是大写</li>
<li><code>Character.isLowerCase()</code>: 判断是不是小写</li>
<li><code>Character.isWhitespace()</code>: 判断是不是空格</li>
<li><code>Character.toUpperCase()</code>: 转成大写</li>
<li><code>Character.toLowerCase()</code>: 转成小写</li>
</ol>
</li>
</ul>
<h4 id="包装类的练习"><a href="#包装类的练习" class="headerlink" title="包装类的练习"></a>包装类的练习</h4><ul>
<li><p><code>Integer</code> 类面试题，看看下面的代码，输出什么结果？为什么？</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WrapperExercise01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method1</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(<span class="hljs-number">1</span>);<br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(<span class="hljs-number">1</span>);<br>        System.out.println(i == j); <span class="hljs-comment">// false</span><br><br>        <span class="hljs-comment">// 这里主要是看范围。-128~127 直接返回</span><br>        <span class="hljs-comment">// 否则 new Integer()</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// 底层：Integer.valueOf(1);</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// 阅读源码</span><br>        System.out.println(m == n); <span class="hljs-comment">// true</span><br><br>        <span class="hljs-comment">// 这里主要是看范围。-128~127 直接返回</span><br>        <span class="hljs-comment">// 否则 new Integer()</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">128</span>; <span class="hljs-comment">// 阅读源码</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> <span class="hljs-number">128</span>;<br>        System.out.println(x == y); <span class="hljs-comment">// false</span><br><br>        <span class="hljs-comment">// 只要有一个基本数据类型，判断的是值是否相同</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">128</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">128</span>;<br>        System.out.println(a == b); <span class="hljs-comment">// true</span><br><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        * Integer.valueOf() 的源码：</span><br><span class="hljs-comment">        * public static Integer valueOf(int i) &#123;</span><br><span class="hljs-comment">        *     if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="hljs-comment">        *         return IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="hljs-comment">        *     return new Integer(i);</span><br><span class="hljs-comment">        * &#125;</span><br><span class="hljs-comment">        */</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="String-类"><a href="#String-类" class="headerlink" title="String 类"></a>String 类</h3><h4 id="String-类基本介绍"><a href="#String-类基本介绍" class="headerlink" title="String 类基本介绍"></a>String 类基本介绍</h4><ol>
<li><code>String</code> 对象用于保存字符串，也就是一个字符序列</li>
<li>字符串常量对象是用双引号括起的字符序列</li>
<li>字符串使用 <code>Unicode</code> 字符编码，一个字符（不区分字母和汉字）占两个字节</li>
<li><code>String</code> 类较&#x2F;常用的构造方法：<ul>
<li><code>String s1 = new String();</code></li>
<li><code>String s2 = new String(String original);</code></li>
<li><code>String s3 = new String(char[] a);</code></li>
<li><code>String s4 = new String(char[] a, int startIndex, int count);</code></li>
<li><code>String s5 = new String(byte[] b);</code></li>
</ul>
</li>
<li><code>String</code> 类 实现了 <code>Serializable</code> 接口，说明 <code>String</code> 可以串行化（可以在网络传输）</li>
<li><code>String</code> 类 实现了 <code>Comparable</code> 接口，说明 <code>String</code> 对象可以进行比较</li>
<li><code>String</code> 类 是 <code>final</code> 类，不能被其他类继承</li>
<li><code>String</code> 类中有属性 <code>private final char value[];</code> 用于存放字符串内容。</li>
<li><code>value</code> 是 <code>final</code> 类型，不可以修改（指 <code>value</code> 不能指向新的地址，但单个字符内容可以变化）</li>
</ol>
<ul>
<li><p>String 类继承关系图<br><img src="/img/java_learn/diagrams/String%E7%B1%BB.svg" srcset="/img/loading.gif" lazyload alt="String类继承关系图"></p>
</li>
<li><p>intern() 方法介绍</p>
<ul>
<li>当调用 <code>intern()</code> 方法时，如果池已经包含一个等于此 <code>String</code> 对象的字符串（用 <code>equals(Object)</code> 方法确定），则返回池中的字符串。否则，将此 <code>String</code> 对象添加到池中，并返回此 <code>String</code> 对象的引用</li>
<li><code>intern()</code> 方法最终返回的是常量池的地址</li>
</ul>
</li>
</ul>
<h4 id="创建-String-对象"><a href="#创建-String-对象" class="headerlink" title="创建 String 对象"></a>创建 String 对象</h4><ul>
<li><p>创建 <code>String</code> 对象的两种方式</p>
<ol>
<li>方式一：直接赋值 <code>String s1 = &quot;abc&quot;;</code></li>
<li>方式二：调用构造器 <code>String s2 = new String(&quot;abc&quot;);</code></li>
</ol>
</li>
<li><p>两种创建方式的区别</p>
<ol>
<li>方式一：先从常量池查看是否有 <code>&quot;abc&quot;</code> 数据空间，如果有，直接指向；如果没有则重新创建，然后指向。变量 <code>s1</code> 最终指向的是常量池的空间地址</li>
<li>方式二：先在堆中创建空间，里面维护了 <code>value[]</code> 属性，指向常量池的 <code>&quot;abc&quot;</code> 空间。如果常量池没有 <code>&quot;abc&quot;</code>，重新创建；如果有，直接通过 <code>value[]</code> 指向。变量 <code>s2</code> 最终指向的是堆中的空间地址。</li>
</ol>
</li>
<li><p>两种方式的内存分布图<br><img src="/img/java_learn/diagrams/String%E7%9A%84%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.svg" srcset="/img/loading.gif" lazyload alt="String的内存布局"></p>
</li>
</ul>
<h4 id="String-类练习题"><a href="#String-类练习题" class="headerlink" title="String 类练习题"></a>String 类练习题</h4><ol>
<li><p>下面的代码输出什么内容</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br><span class="hljs-type">String</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>System.out.println(n1.equals(n2)); <span class="hljs-comment">// true</span><br>System.out.println(n1 == n2); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>下面的代码输出什么内容</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>; <span class="hljs-comment">// 指向常量池</span><br><span class="hljs-type">String</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">// 指向堆</span><br>System.out.println(a.equals(b)); <span class="hljs-comment">// true</span><br>System.out.println(a == b); <span class="hljs-comment">// false</span><br>System.out.println(a == b.intern()); <span class="hljs-comment">// true</span><br>System.out.println(b == b.intern()); <span class="hljs-comment">// false</span><br><span class="hljs-comment">// b.intern() 返回常量池的地址</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>下面的代码输出什么内容</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;JavaSE&quot;</span>; <span class="hljs-comment">// 指向常量池</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Java&quot;</span>; <span class="hljs-comment">// 指向常量池</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Java&quot;</span>; <span class="hljs-comment">// 指向常量池</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;Java&quot;</span>); <span class="hljs-comment">// 指向堆</span><br>System.out.println(s2 == s4); <span class="hljs-comment">// false</span><br>System.out.println(s2 == s3); <span class="hljs-comment">// true</span><br><span class="hljs-comment">// String 类重写了 equals()方法，最终比较的是字符串内容</span><br>System.out.println(s2.equals(s4)); <span class="hljs-comment">// true</span><br>System.out.println(s1 == s2); <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>下面的代码输出什么内容，画出内存布局图</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Person</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();<br>p1.name = <span class="hljs-string">&quot;Jack&quot;</span>; <span class="hljs-comment">// 指向常量池</span><br><span class="hljs-type">Person</span> <span class="hljs-variable">p2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();<br>p2.name = <span class="hljs-string">&quot;Jack&quot;</span>; <span class="hljs-comment">// 指向常量池</span><br><br>System.out.println(p1.name.equals(p2.name)); <span class="hljs-comment">// true</span><br>System.out.println(p1.name == p2.name); <span class="hljs-comment">// true</span><br>System.out.println(p1.name == <span class="hljs-string">&quot;Jack&quot;</span>); <span class="hljs-comment">// true</span><br><br><span class="hljs-type">String</span> <span class="hljs-variable">st1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;bade&quot;</span>); <span class="hljs-comment">// 指向堆</span><br><span class="hljs-type">String</span> <span class="hljs-variable">st2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;bade&quot;</span>); <span class="hljs-comment">// 指向堆</span><br>System.out.println(st1 == st2); <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="字符串的特性"><a href="#字符串的特性" class="headerlink" title="字符串的特性"></a>字符串的特性</h4><ol>
<li><code>String</code> 是一个 <code>final</code> 类，代表不可变的字符序列</li>
<li>字符串是不可变的。一个字符串对象一旦被分配，其内容是不可变的</li>
<li>重要规则：常量相加，在池中；变量相加，在堆中</li>
</ol>
<ul>
<li><p>第 1 题：以下语句创建了几个对象？画出内存布局图</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>s1 = <span class="hljs-string">&quot;hahah&quot;</span>;<br><span class="hljs-comment">// 创建了 2 个对象</span><br></code></pre></td></tr></table></figure>

<p>  <img src="/img/java_learn/mk-2022-05-15-22-15.png" srcset="/img/loading.gif" lazyload alt="第1题内存布局图"></p>
</li>
<li><p>第 2 题：以下语句创建了几个对象？</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Hello&quot;</span> + <span class="hljs-string">&quot;World&quot;</span>;<br><span class="hljs-comment">// 创建了 2 个对象</span><br><span class="hljs-comment">// 编译器会优化</span><br><span class="hljs-comment">// 等价于 String a = &quot;HelloWorld&quot;;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>第 3 题：以下语句创建了几个对象？画出内存分析图</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Hello&quot;</span>; <span class="hljs-comment">// 创建 a 对象</span><br><span class="hljs-type">String</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;World&quot;</span>; <span class="hljs-comment">// 创建 b 对象</span><br><br><span class="hljs-comment">// String c = a + b; 解读：</span><br><span class="hljs-comment">// 1. 先创建一个 StringBuilder sb = new StringBuilder()</span><br><span class="hljs-comment">// 2. 执行 sb.append(&quot;Hello&quot;);</span><br><span class="hljs-comment">// 3. 执行 sb.append(&quot;World&quot;);</span><br><span class="hljs-comment">// 4. String c = sb.toString();</span><br><span class="hljs-comment">// 最后其实是 c 指向堆中的对象(String 类型) value[] -&gt; 池中 &quot;HelloWorld&quot;</span><br><span class="hljs-type">String</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> a + b;<br><br><span class="hljs-comment">// 创建了 3 个对象</span><br><span class="hljs-comment">// 小结：</span><br><span class="hljs-comment">// 底层是 StringBuilder sb = new StringBuilder(); sb.append(&quot;Hello&quot;); sb.append(&quot;World&quot;); </span><br><span class="hljs-comment">// sb 是在堆中，并且 append 是在原来字符串的基础上追加的</span><br><span class="hljs-comment">// 重要规则，常量相加，看的是池；变量相加，是在堆中</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>第 4 题：以下语句输出什么内容</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Hello&quot;</span>; <span class="hljs-comment">// 创建 a 对象</span><br><span class="hljs-type">String</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;World&quot;</span>; <span class="hljs-comment">// 创建 b 对象</span><br><span class="hljs-type">String</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;HelloWorld&quot;</span>; <span class="hljs-comment">// 指向常量池</span><br><span class="hljs-type">String</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Hello&quot;</span> + <span class="hljs-string">&quot;World&quot;</span>;<br>System.out.println(c == d); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>第 5 题：以下语句输出什么内容</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 题目 3</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Hello&quot;</span>; <span class="hljs-comment">// 指向常量池</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Java&quot;</span>; <span class="hljs-comment">// 指向常量池</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;HelloJava&quot;</span>; <span class="hljs-comment">// 指向常量池</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s4</span> <span class="hljs-operator">=</span> (s1 + s2).intern(); <span class="hljs-comment">// 指向常量池</span><br>System.out.println(s3 == s4); <span class="hljs-comment">// true</span><br>System.out.println(s3.equals(s4)); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>第 6 题：以下语句输出什么内容？画出内存分析图（难点）</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;hel&quot;</span>);<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">char</span>[] ch = &#123;<span class="hljs-string">&#x27;j&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>&#125;;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">change</span><span class="hljs-params">(String str, <span class="hljs-type">char</span> ch[])</span> &#123;<br>        str = <span class="hljs-string">&quot;java&quot;</span>;<br>        ch[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;h&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Test</span> <span class="hljs-variable">ex</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Test</span>();<br>        ex.change(ex.str, ex.ch);<br>        System.out.print(ex.str + <span class="hljs-string">&quot; and &quot;</span>); <span class="hljs-comment">// hel and</span><br>        System.out.println(ex.ch); <span class="hljs-comment">// hava</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>  <img src="/img/java_learn/mk-2022-05-15-23-54.png" srcset="/img/loading.gif" lazyload alt="第6题内存分析"></p>
</li>
</ul>
<h4 id="String-类常用方法"><a href="#String-类常用方法" class="headerlink" title="String 类常用方法"></a>String 类常用方法</h4><ul>
<li><p>说明<br>String 类是保存字符串常量的。每次更新都需要重新开辟空间，效率较低，因此 Java 设计者还提供了 <code>StringBuilder</code> 和 <code>StringBuffer</code> 来增强 <code>String</code> 的功能，并提高效率</p>
</li>
<li><p>String 类常用方法介绍</p>
<ul>
<li><code>equals</code>: 区分大小写，判断内容是否相等，返回 <code>boolean</code></li>
<li><code>equalsIgnoreCase</code>: 忽略大小写的判断内容是否相等，返回 <code>boolean</code></li>
<li><code>length</code>: 获取字符的个数，字符串的长度，返回 <code>int</code></li>
<li><code>indexOf</code>: 获取传入的字符或字符串在字符串中<strong>第 1 次</strong>出现的索引，索引从 0 开始，返回 <code>int</code>，如果找不到，返回 -1</li>
<li><code>lastIndexOf</code>: 获取传入的字符或字符串在字符串中<strong>最后 1 次</strong>出现的索引，索引从 0 开始，返回 <code>int</code>，如果找不到，返回 -1</li>
<li><code>substring</code>: 截取指定范围的子串，比如：<code>str.substring(0, 5)</code> 表示从索引 0 开始，截取到第 5 个字符（不包括第五个）</li>
<li><code>trim</code>: 去前后空格</li>
<li><code>charAt</code>: 获取某索引处的字符，注意不能使用 <code>str[index]</code> 这种方式</li>
<li><code>toUpperCase</code>: 将字符串转换为大写</li>
<li><code>toLowerCase</code>: 将字符串转换为小写</li>
<li><code>concat</code>: 拼接字符串，返回新的字符串。用法：<code>str.concat(String str)</code></li>
<li><code>replace</code>: 替换字符串中的字符，返回新的字符串。用法：<code>str.replace(&quot;被替换的内容&quot;, &quot;新内容&quot;)</code></li>
<li><code>split</code>: 分割字符串，返回 <code>String</code> 数组，对于某些特殊字符，需要使用 <code>\</code> 转义。用法：<code>&quot;a, b, c, d&quot;.split(&quot;,&quot;);</code></li>
<li><code>compareTo</code>: 比较两个字符串的大小。首先从第一个字符开始比较每一个字符的 <code>ASCII</code>码，如果不相等，返回相减的值；如果所有字符的 <code>ASCII</code> 码都相等，再比较两个字符串的 <code>length</code>，返回两个字符串长度相减的 <code>int</code> 值</li>
<li><code>toCharArray</code>: 把字符串转换成字符数组，返回 <code>char[]</code> 数组</li>
<li><code>format</code>: 格式化字符串，<code>%s字符串 %c字符 %d整型 %.2f浮点型</code></li>
</ul>
</li>
</ul>
<h3 id="StringBuffer-类"><a href="#StringBuffer-类" class="headerlink" title="StringBuffer 类"></a>StringBuffer 类</h3><h4 id="StringBuffer-基本介绍"><a href="#StringBuffer-基本介绍" class="headerlink" title="StringBuffer 基本介绍"></a>StringBuffer 基本介绍</h4><ul>
<li><code>StringBuffer</code> 类是对 <code>String</code> 类的一种增强</li>
<li><code>java.lang.StringBuffer</code> 代表可变的字符序列，可以对字符串内容进行增删</li>
<li>很多方法与 <code>String</code> 类相同，但 <code>StringBuffer</code> 是可变长度的</li>
<li><code>StringBuffer</code> 是一个容器</li>
</ul>
<p>StringBuffer 类图</p>
<p><img src="/img/java_learn/diagrams/StringBuffer%E7%B1%BB.svg" srcset="/img/loading.gif" lazyload alt="StringBuffer类图"></p>
<ul>
<li><p>StringBuffer 类解读：</p>
<ol>
<li><code>StringBuffer</code> 类继承了抽象类 <code>AbstractStringBuilder</code></li>
<li><code>StringBuffer</code> 类实现了 <code>Serializable</code> 接口，即 <code>StringBuffer</code> 对象可以串行化（保存到文件，或网络传输）</li>
<li>在父类 <code>AbstractStringBuilder</code> 中有属性 <code>char[] value</code>，该数组存放字符串内容，因此存放在堆中</li>
<li><code>StringBuffer</code> 是一个 <code>final</code> 类，不能被继承</li>
<li>因为 <code>StringBuffer</code> 字符内容是保存在堆中的 <code>char[] value</code> 中，所以在变化时不用每次都更换地址，效率较高</li>
</ol>
</li>
<li><p>StringBuffer 构造方法摘要：</p>
<ol>
<li><code>StringBuffer()</code><br>  构造一个其中不带字符的字符串缓冲区，其初始容量为 16 个字符</li>
<li><code>StringBuffer(CharSequence seq)</code><br>  构造一个字符串缓冲区，它包含与指定的 <code>CharSequence</code> 相同的字符</li>
<li><code>StringBuffer(int capacity)</code><br>  构造一个不带字符，但具有指定初始容量的字符串缓冲区。即对 <code>char[]</code> 大小进行指定</li>
<li><code>StringBuffer(String str)</code><br>  构造一个字符串缓冲区，并将其内容初始化为指定的字符串内容</li>
</ol>
</li>
</ul>
<h4 id="String-与-StringBuffer"><a href="#String-与-StringBuffer" class="headerlink" title="String 与 StringBuffer"></a>String 与 StringBuffer</h4><p>String 与 StringBuffer 的区别：</p>
<ol>
<li><code>String</code> 保存的是字符串常量，里面的值不能更改，每次 <code>String</code> 类的更新实际上就是更改地址，效率较低</li>
<li><code>StringBuffer</code> 保存的是字符串变量，里面的值可以更改，每次 <code>StringBuffer</code> 的更新实际上可以更新内容，不用每次更新地址，效率较高</li>
</ol>
<p>String 与 StringBuffer 的相互转换：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// String -&gt; StringBuffer</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br><span class="hljs-comment">// 方式 1 </span><br><span class="hljs-comment">// 使用构造器</span><br><span class="hljs-comment">// 注：返回的是 StringBuffer 对象，对 s 本身没有影响</span><br><span class="hljs-type">StringBuffer</span> <span class="hljs-variable">b1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(s);<br><span class="hljs-comment">// 方式 2</span><br><span class="hljs-comment">// 使用 append() 方法</span><br><span class="hljs-type">StringBuffer</span> <span class="hljs-variable">b2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();<br>b2 = b2.append(s);<br><br><span class="hljs-comment">// StringBuffer -&gt; String</span><br><span class="hljs-type">StringBuffer</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-string">&quot;hello&quot;</span>);<br><span class="hljs-comment">// 方式 1</span><br><span class="hljs-comment">// 使用 StringBuffer 提供的 toString() 方法</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> b.toString();<br><span class="hljs-comment">// 方式 2</span><br><span class="hljs-comment">// 使用构造器</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(b);<br></code></pre></td></tr></table></figure>

<h4 id="StringBuffer-常用方法"><a href="#StringBuffer-常用方法" class="headerlink" title="StringBuffer 常用方法"></a>StringBuffer 常用方法</h4><ol>
<li><code>append(str)</code>: 增，在原来的基础上增加元素</li>
<li><code>delete(start, end)</code>: 删，删除索引在 <code>start</code> 和 <code>end</code> 之间的元素</li>
<li><code>replace(start, end, str)</code>: 改，将 <code>start-end</code> 间的内容替换为 <code>str</code>，不含 <code>end</code></li>
<li><code>indexOf(str)</code>: 查，查找子串在字符串第 1 次出现的索引，返回 <code>int</code> 值，如果找不到返回 <code>-1</code></li>
<li><code>insert(index, str)</code>: 在指定位置插入字符串，原来的内容自动后移</li>
<li><code>length()</code>: 返回字符串的长度</li>
</ol>
<h4 id="StringBuffer-练习题"><a href="#StringBuffer-练习题" class="headerlink" title="StringBuffer 练习题"></a>StringBuffer 练习题</h4><ol>
<li><p>下面的代码输出什么？</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();<br>sb1.append(str); <span class="hljs-comment">// 相当于 append(&quot;null&quot;);</span><br>System.out.println(sb1.length()); <span class="hljs-comment">// 4</span><br>System.out.println(sb1); <span class="hljs-comment">// null</span><br><br><span class="hljs-comment">// 空指针异常 // 分析源码 null.length()</span><br><span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(str);<br>System.out.println(sb2);<br></code></pre></td></tr></table></figure>
</li>
<li><p>输入商品名称和价格，要求打印以下效果（难点）：</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">商品名 商品价格<br>手机   <span class="hljs-number">123</span>,<span class="hljs-number">564.59</span><br></code></pre></td></tr></table></figure>

<p> 要求：价格的小数点前每三位用逗号隔开</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringBuffer01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">try</span> (<span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in)) &#123;<br>            System.out.print(<span class="hljs-string">&quot;请输入名称：&quot;</span>);<br>            <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> scanner.next();<br>            System.out.print(<span class="hljs-string">&quot;请输入价格：&quot;</span>);<br>            <span class="hljs-type">double</span> <span class="hljs-variable">price</span> <span class="hljs-operator">=</span> scanner.nextDouble();<br>            <span class="hljs-comment">// 把输入的价格格式化并转为 StringBuffer</span><br>            <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">priceStr</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(String.format(<span class="hljs-string">&quot;%.2f&quot;</span>, price));<br><br>            <span class="hljs-comment">// 先找到小数点的索引，然后在该位置的前3位，插入 &quot;,&quot;</span><br>            <span class="hljs-comment">// int i = priceStr.lastIndexOf(&quot;.&quot;);</span><br>            <span class="hljs-comment">// priceStr = priceStr.insert(i, &quot;,&quot;);</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> priceStr.lastIndexOf(<span class="hljs-string">&quot;.&quot;</span>) - <span class="hljs-number">3</span>; i &gt; <span class="hljs-number">0</span>; i -= <span class="hljs-number">3</span>) &#123;<br>                priceStr = priceStr.insert(i, <span class="hljs-string">&quot;,&quot;</span>);<br>            &#125;<br><br>            System.out.println(<span class="hljs-string">&quot;商品名\t商品价格&quot;</span>);<br>            System.out.println(name + <span class="hljs-string">&quot;\t&quot;</span> + priceStr);<br><br>        &#125; <span class="hljs-keyword">catch</span> (java.util.InputMismatchException e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;输入错误！&quot;</span>);<br>            System.out.println(<span class="hljs-string">&quot;请输入正确的价格！&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="StringBuilder-类"><a href="#StringBuilder-类" class="headerlink" title="StringBuilder 类"></a>StringBuilder 类</h3><h4 id="StringBuilder-基本介绍"><a href="#StringBuilder-基本介绍" class="headerlink" title="StringBuilder 基本介绍"></a>StringBuilder 基本介绍</h4><ol>
<li>一个可变的字符序列。此类提供一个与 <code>StringBuffer</code> 兼容的 API，但不保证同步（<code>StringBuilder</code> 不是线程安全）。该类被设计用作 <code>StringBuffer</code> 的一个简易替换，用在字符串缓冲区被<strong>单个线程</strong>使用的时候。如果可能，建议优先采用该类，因为在大多数实现中，它比StringBuffer要快</li>
<li>在 <code>StringBuilder</code> 上的主要操作是 <code>append()</code> 和 <code>insert()</code> 方法，可重载这些方法，以接受任意类型的数据</li>
</ol>
<p>StringBuilder 类图</p>
<p><img src="/img/java_learn/diagrams/StringBuilder%E7%B1%BB.svg" srcset="/img/loading.gif" lazyload alt="StringBuilder类图"></p>
<ul>
<li>StringBuilder 类解读：<ol>
<li><code>StringBuilder</code> 和 <code>StringBuffer</code> 均可带边可变的字符序列，方法是一样的</li>
<li><code>StringBuilder</code> 是 <code>final</code> 类，不能被继承</li>
<li>继承了 <code>AbstractStringBuilder</code> 类，<code>StringBuilder</code> 对象字符序列仍然是存放在其父类的 <code>char[] value</code> 数组中</li>
<li>实现了 <code>Serializable</code> 接口，说明可以串行化（该对象可以网络传输，也可以保存到文件）</li>
<li><code>StringBuilder</code> 的方法，没有做互斥的处理，即没有 <code>synchronized</code> 关键字，因此在<strong>单线程</strong>的情况下使用 <code>StringBuilder</code></li>
</ol>
</li>
</ul>
<h4 id="String、StringBuffer-和-StringBuilder-的比较"><a href="#String、StringBuffer-和-StringBuilder-的比较" class="headerlink" title="String、StringBuffer 和 StringBuilder 的比较"></a>String、StringBuffer 和 StringBuilder 的比较</h4><ol>
<li><code>StringBuilder</code> 和 <code>StringBuffer</code> 非常类似，均代表<strong>可变的字符序列</strong>，而且方法相同</li>
<li><code>String</code>: 不可变字符序列，效率<strong>低</strong>，但是复用率高</li>
<li><code>StringBuffer</code>: 可变字符序列、效率<strong>较高</strong>（增删）、线程安全</li>
<li><code>StringBuilder</code>: 可变字符序列、效率<strong>最高</strong>、线程不安全</li>
<li><code>String</code> 使用注意说明：<ul>
<li><code>string s = &quot;a&quot;;</code> 创建了一个字符串</li>
<li><code>s += &quot;b&quot;;</code> 实际上原来的”a”字符串对像已经丢弃了，现在又产生了一个字符串 <code>s + &quot;b&quot;</code>（也就是”ab”）。如果多次执行这些改变串内容的操作，会导致大量副本字符串对像存留在内存中，降低效率。如果这样的操作放到循环中，会极大影响程序的性能</li>
<li>结论：如果我们需要对 <code>String</code> 做大量修改，不要使用 <code>String</code></li>
</ul>
</li>
<li>三个类的使用原则：<ol>
<li>如果字符串存在大量的修改操作，一般使用 <code>StringBuffer</code> 或 <code>StringBuilder</code></li>
<li>如果字符串存在大量的修改操作，并在单线程的情况，使用 <code>StringBuilder</code></li>
<li>如果字符串存在大量的修改操作，并在多线程的情况，使用 <code>StringBuffer</code></li>
<li>如果我们字符串很少修改，被多个对象引用，使用 <code>String</code>，比如配置信息等</li>
</ol>
</li>
</ol>
<h3 id="Math-类"><a href="#Math-类" class="headerlink" title="Math 类"></a>Math 类</h3><h4 id="Math-基本介绍"><a href="#Math-基本介绍" class="headerlink" title="Math 基本介绍"></a>Math 基本介绍</h4><ul>
<li>Math 类包含用于执行基本数学运算的方法，如初等指数、对数、平方根和三角函数</li>
</ul>
<h4 id="Math-常用方法"><a href="#Math-常用方法" class="headerlink" title="Math 常用方法"></a>Math 常用方法</h4><ol>
<li><p><code>abs</code>: 返回绝对值</p>
</li>
<li><p><code>pow</code>: 求幂，返回 <code>double</code> 类型</p>
</li>
<li><p><code>cei</code>: 向上取整，<code>&gt;=</code> 该参数的最小整数，返回  <code>double</code> 类型</p>
</li>
<li><p><code>floor</code>: 向下取整，<code>&lt;=</code> 该参数的最大整数，返回 <code>double</code> 类型</p>
</li>
<li><p><code>round</code>: 四舍五入，返回 <code>int</code> 或 <code>long</code> 类型</p>
</li>
<li><p><code>sqrt</code>: 求开方，返回 <code>double</code> 类型</p>
</li>
<li><p><code>random</code>: 随机数，返回 <code>[0, 1)</code> 之间的一个随机 <code>double</code> 小数</p>
<ul>
<li><p>练习：获取一个 <code>[a, b]</code> 之间的一个随机整数</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 获取 a-b 之间的随机整数</span><br><span class="hljs-comment">// 公式：(int)(Math.random()*(b-a+1)+a))</span><br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">7</span>;<br><span class="hljs-type">int</span> r;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>    r = (<span class="hljs-type">int</span>) (Math.random() * (b - a + <span class="hljs-number">1</span>) + a));<br>    System.out.println(r);<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><code>max</code>: 返回两个数的最大值</p>
</li>
<li><p><code>min</code>: 返回两个数的最小值</p>
</li>
</ol>
<h3 id="Arrays-类"><a href="#Arrays-类" class="headerlink" title="Arrays 类"></a>Arrays 类</h3><h4 id="Arrays-类常用方法"><a href="#Arrays-类常用方法" class="headerlink" title="Arrays 类常用方法"></a>Arrays 类常用方法</h4><ol>
<li><p><code>toString</code>: 返回数组的字符串形式</p>
</li>
<li><p><code>sort</code>: 排序（自然排序和定制排序）</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java">Integer[] arr = &#123; <span class="hljs-number">1</span>, -<span class="hljs-number">5</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>, <span class="hljs-number">2</span> &#125;;<br><span class="hljs-comment">// 排序</span><br><span class="hljs-comment">// 1. 使用 Arrays 提供的 sort() 方法排序</span><br><span class="hljs-comment">// 2. 因为数组是引用类型，所以通过 sort() 排序后，会直接影响到实参</span><br><span class="hljs-comment">// 自然排序：</span><br>Arrays.sort(arr);<br>System.out.println(Arrays.toString(arr));<br><br><span class="hljs-comment">// 3. 也可以通过传入一个接口 Comparator 实现定制排序</span><br><span class="hljs-comment">// 4. 调用定制排序时，传入两个参数：</span><br><span class="hljs-comment">//    (1) 排序的数组 arr</span><br><span class="hljs-comment">//    (2) 实现了 Comparator 接口的匿名内部类，要求实现 compare() 方法</span><br><span class="hljs-comment">// 6. 这里体现了接口编程的方式，最终到 binarySort 方法</span><br><span class="hljs-comment">// 定制排序：</span><br>Arrays.sort(arr, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;Integer&gt;() &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Integer o1, Integer o2)</span> &#123;<br>        <span class="hljs-keyword">return</span> o1 - o2;<br>    &#125;<br>&#125;);<br>System.out.println(Arrays.toString(arr));<br></code></pre></td></tr></table></figure>

<p> 定制冒泡排序：<a href="../myJava/src/com/chapter12/arrays_/ArraysSortCustom.java">查看代码</a></p>
</li>
<li><p><code>binarySearch</code>: 通过二分搜索法进行查找，要求必须是有序数组，返回 <code>int</code> 类型的索引，如果数组中不存在该元素，返回 <code>-(该元素应该在的位置 + 1)</code></p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// binarySearch: 通过二分搜索法进行查找</span><br>Integer[] arr = &#123; -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>, <span class="hljs-number">20</span> &#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> Arrays.binarySearch(arr, <span class="hljs-number">6</span>);<br><span class="hljs-comment">// 元素不存在，返回 -(元素如果存在于该数组，应在的位置 + 1)</span><br><span class="hljs-comment">// [-1, 0, 1, 6, 8, 20] // 假设元素存在，索引应为 3</span><br><span class="hljs-comment">// 返回 -(3 + 1)</span><br>System.out.println(index); <span class="hljs-comment">// -4</span><br><br>index = Arrays.binarySearch(arr, <span class="hljs-number">32</span>);<br><span class="hljs-comment">// [-1, 0, 1, 8, 20, 32] // 假设元素存在，索引应为 5</span><br><span class="hljs-comment">// 返回 -(5 + 1) = -6</span><br>System.out.println(index); <span class="hljs-comment">// -6</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><code>copyOf</code>: 数组元素的复制</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// copyOf: 数组元素的复制</span><br><span class="hljs-comment">// 1. 从 arr 数组中，拷贝 arr.length 个元素到 newArr 数组中</span><br><span class="hljs-comment">// 2. 如果拷贝的长度 &gt; arr.length 就在新数组的后面 增加 null</span><br><span class="hljs-comment">// 3. 如果拷贝长度 &lt; 0 就报异常 NegativeArraySizeException</span><br><span class="hljs-comment">// 4. 该方法底层使用的是 System.arraycopy()</span><br>Integer[] arr = &#123; -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>, <span class="hljs-number">20</span> &#125;;<br>Integer[] newArr = Arrays.copyOf(arr, arr.length);<br>System.out.println(Arrays.toString(newArr));<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>fill</code>: 数组元素的填充</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// fill: 数组元素的填充</span><br><span class="hljs-comment">// 使用 99 去填充 num 数组，可以理解成是替换原来的元素</span><br>Integer[] num = &#123;<span class="hljs-number">9</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>&#125;;<br>Arrays.fill(num, <span class="hljs-number">99</span>);<br>System.out.println(Arrays.toString(num)); <span class="hljs-comment">// [99, 99, 99]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><code>equals</code>: 比较两个数组元素内容是否完全一致</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// equals: 比较两个数组元素内容是否完全一致</span><br><span class="hljs-comment">// 1. 如果 arr 和 arr2 数组的元素完全一致，则返回 true</span><br><span class="hljs-comment">// 2. 如果不是完全一致，返回 false</span><br>arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>[] &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">90</span>, <span class="hljs-number">123</span>, <span class="hljs-number">567</span> &#125;;<br>Integer[] arr2 = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">90</span>, <span class="hljs-number">123</span>, <span class="hljs-number">567</span> &#125;;<br><span class="hljs-type">boolean</span> <span class="hljs-variable">equals</span> <span class="hljs-operator">=</span> Arrays.equals(arr, arr2);<br>System.out.println(equals);<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>asList</code>: 将一组值，转换成 <code>list</code></p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">System.out.println(<span class="hljs-string">&quot;\n=============演示 asList() 的使用============&quot;</span>);<br><span class="hljs-comment">// asList: 将一组值，转换成 list</span><br><span class="hljs-comment">// 1. asList 方法，会将 (2,3,4,5,6,1) 数据转成一个 List 集合</span><br><span class="hljs-comment">// 2. asList 的编译类型是 List(接口)</span><br><span class="hljs-comment">// 3. asList 的运行类型是 java.util.Arrays$ArrayList，是 Arrays 类的静态内部类</span><br>List&lt;Integer&gt; asList = Arrays.asList(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">1</span>);<br>System.out.println(asList);<br>System.out.println(asList.getClass());<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="Arrays-类练习"><a href="#Arrays-类练习" class="headerlink" title="Arrays 类练习"></a>Arrays 类练习</h4><ul>
<li>题目<ul>
<li><p>自定义 <code>Book</code> 类，里面包含 <code>name</code> 和 <code>price</code>，按 <code>price</code> 排序</p>
</li>
<li><p>要求使用三种方式排序（价格从大到小、从小到大与名称长度），定义 4 个 <code>Book</code> 对象</p>
</li>
<li><p>使用前面学习过的传递实现 <code>Comparator</code> 接口匿名内部类，也称为定制排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArraysExercise01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Book[] books = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>[<span class="hljs-number">4</span>];<br>        books[<span class="hljs-number">0</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;三国演义之大秦帝国&quot;</span>, <span class="hljs-number">126</span>);<br>        books[<span class="hljs-number">1</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;水浒传之宋江&quot;</span>, <span class="hljs-number">126</span>);<br>        books[<span class="hljs-number">2</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;西游记新版&quot;</span>, <span class="hljs-number">119</span>);<br>        books[<span class="hljs-number">3</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;红楼梦&quot;</span>, <span class="hljs-number">158</span>);<br><br>        Arrays.sort(books, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;Book&gt;() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Book o1, Book o2)</span> &#123;<br>                <span class="hljs-type">double</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> o2.getPrice() - o1.getPrice();<br>                <span class="hljs-keyword">return</span> d &gt; <span class="hljs-number">0</span> ? -<span class="hljs-number">1</span> : d &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;);<br>        print(books);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">print</span><span class="hljs-params">(Book[] books)</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; books.length; i++) &#123;<br>            System.out.println(<span class="hljs-string">&quot;name = &quot;</span> + books[i].getName() + <span class="hljs-string">&quot; price = &quot;</span> + books[i].getPrice() + <span class="hljs-string">&quot;\n&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Book</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Book</span><span class="hljs-params">(String name, <span class="hljs-type">double</span> price)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.price = price;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getPrice</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> price;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="System-类"><a href="#System-类" class="headerlink" title="System 类"></a>System 类</h3><h4 id="System-类常见方法"><a href="#System-类常见方法" class="headerlink" title="System 类常见方法"></a>System 类常见方法</h4><ol>
<li><p><code>exit</code>: 退出当前程序</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// exit: 退出当前程序</span><br><span class="hljs-comment">// 1. exit(0) 表示程序退出</span><br><span class="hljs-comment">// 2. 0 表示一个状态，正常的状态</span><br>System.out.println(<span class="hljs-string">&quot;ok1&quot;</span>);<br>System.exit(<span class="hljs-number">0</span>); <span class="hljs-comment">// 退出程序</span><br>System.out.println(<span class="hljs-string">&quot;ok2&quot;</span>); <span class="hljs-comment">// 不会执行</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><code>arraycopy</code>: 复制数组元素，比较适合底层调用，一般使用<code>Arrays.copyOf</code> 完成复制数组</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// arraycopy: 复制数组元素</span><br><span class="hljs-type">int</span>[] src = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> &#125;;<br><span class="hljs-type">int</span>[] dest = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">3</span>]; <span class="hljs-comment">// dest 当前是 &#123; 0, 0, 0 &#125;</span><br><span class="hljs-comment">// System.arraycopy() 方法有五个参数：</span><br><span class="hljs-comment">// * src: 源数组</span><br><span class="hljs-comment">// * srcPos: 源数组拷贝的初始索引位置</span><br><span class="hljs-comment">// * dest: 目标数组</span><br><span class="hljs-comment">// * destPos: 拷贝到目标数组的索引位置</span><br><span class="hljs-comment">// * length: 拷贝的元素个数</span><br>System.arraycopy(src, <span class="hljs-number">1</span>, dest, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>);<br>System.out.println(Arrays.toString(dest)); <span class="hljs-comment">// [0, 2, 3]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><code>currentTimeMillis</code>: 返回当前时间距离 <code>1970-1-1</code> 的毫秒数</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// currentTimeMillis: 返回当前时间距离 1970-1-1 的毫秒数</span><br>System.out.println(System.currentTimeMillis());<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>gc</code>: 运行垃圾回收机制 <code>System.gc();</code></p>
</li>
</ol>
<h3 id="BigInteger、BigDecimal-类"><a href="#BigInteger、BigDecimal-类" class="headerlink" title="BigInteger、BigDecimal 类"></a>BigInteger、BigDecimal 类</h3><h4 id="BigInteger、BigDecimal-类基本介绍"><a href="#BigInteger、BigDecimal-类基本介绍" class="headerlink" title="BigInteger、BigDecimal 类基本介绍"></a>BigInteger、BigDecimal 类基本介绍</h4><p>应用场景：</p>
<ol>
<li><p><code>BigInteger</code> 适合保存比较大的整型</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 演示 BigInteger 类的使用</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BigInteger_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 在编程中，用 BigInteger 来处理较大的整数</span><br>        <span class="hljs-type">BigInteger</span> <span class="hljs-variable">bigInteger1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigInteger</span>(<span class="hljs-string">&quot;12321312&quot;</span>);<br>        <span class="hljs-type">BigInteger</span> <span class="hljs-variable">bigInteger2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigInteger</span>(<span class="hljs-string">&quot;100&quot;</span>);<br>        System.out.println(bigInteger1);<br><br>        <span class="hljs-comment">// 1. 在对 BigInteger 对象 进行加减乘除的时候，需要使用对应的方法</span><br>        <span class="hljs-comment">// 2. 创建一个要操作的 BigInteger，然后进行相应操作</span><br>        <span class="hljs-type">BigInteger</span> <span class="hljs-variable">add</span> <span class="hljs-operator">=</span> bigInteger1.add(bigInteger2);<br>        System.out.println(add); <span class="hljs-comment">// 加法</span><br><br>        <span class="hljs-type">BigInteger</span> <span class="hljs-variable">subtract</span> <span class="hljs-operator">=</span> bigInteger1.subtract(bigInteger2);<br>        System.out.println(subtract); <span class="hljs-comment">// 减法</span><br><br>        <span class="hljs-type">BigInteger</span> <span class="hljs-variable">multiply</span> <span class="hljs-operator">=</span> bigInteger1.multiply(bigInteger2);<br>        System.out.println(multiply); <span class="hljs-comment">// 乘法</span><br>        <br>        <span class="hljs-type">BigInteger</span> <span class="hljs-variable">divide</span> <span class="hljs-operator">=</span> bigInteger1.divide(bigInteger2);<br>        System.out.println(divide); <span class="hljs-comment">// 除法</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>BigDecimal</code> 适合保存精度更高的浮点型</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 演示 BigDecimal 类的使用</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BigDecimal_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 当需要保存一个精度较高的数时，可以使用 BigDecimal_</span><br>        <span class="hljs-comment">// double d = 1999.1111111111111111111111111111111111111111111111111;</span><br>        <span class="hljs-comment">// System.out.println(d);</span><br>        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">bigDecimal1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">&quot;1999.11&quot;</span>);<br>        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">bigDecimal2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">&quot;3&quot;</span>);<br><br>        <span class="hljs-comment">// 1. 在对 BigDecimal 进行操作时，需要使用对应方法</span><br>        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">add</span> <span class="hljs-operator">=</span> bigDecimal1.add(bigDecimal2);<br>        System.out.println(add);<br><br>        <span class="hljs-comment">// 在调用 divide 方法时，指定精度即可 BigDecimal.ROUND_CEILING (Java 9 之后使用</span><br>        <span class="hljs-comment">// RoundingMode.CEILING)</span><br>        <span class="hljs-comment">// 如果有无限循环小数，就会只保留 小数点后的位数</span><br>        System.out.println(bigDecimal1.divide(bigDecimal2, RoundingMode.CEILING));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="Date、Calender、LocalDate-类"><a href="#Date、Calender、LocalDate-类" class="headerlink" title="Date、Calender、LocalDate 类"></a>Date、Calender、LocalDate 类</h3><h4 id="第一代日期类-Date"><a href="#第一代日期类-Date" class="headerlink" title="第一代日期类 Date"></a>第一代日期类 Date</h4><ol>
<li><p>Date 基本介绍</p>
<ol>
<li><code>Date</code> 类在 <code>java.util</code> 包下</li>
<li><code>Date</code>: 精确到毫秒，代表特定的瞬间</li>
<li><code>SimpleDateFormat</code>: 解析和格式化日期。该类可以把日期格式化（日期 -&gt; 文本）、解析（文本 -&gt; 日期）和规范化</li>
</ol>
</li>
<li><p>Date 应用案例</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 演示 Date 类的使用</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Date01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ParseException &#123;<br>        <span class="hljs-type">Date</span> <span class="hljs-variable">d1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(); <span class="hljs-comment">// 获取当前系统时间</span><br>        System.out.println(<span class="hljs-string">&quot;d1 = &quot;</span> + d1);<br>        <span class="hljs-type">Date</span> <span class="hljs-variable">d2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">1653213467</span>); <span class="hljs-comment">// 通过指定毫秒数得到时间</span><br>        System.out.println(<span class="hljs-string">&quot;d2 = &quot;</span> + d2);<br>        System.out.println(d1.getTime()); <span class="hljs-comment">// 获取某个时间对应的毫秒数</span><br><br>        <span class="hljs-comment">// 1. 创建 SimpleDateFormat 对象，可以指定相应的格式</span><br>        <span class="hljs-comment">// 2. 占位符的使用在 API 文档中</span><br>        <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">sdf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">&quot;yyyy年MM月dd日 hh:mm:ss E&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">format</span> <span class="hljs-operator">=</span> sdf.format(d1); <span class="hljs-comment">// 将日期转换成指定格式的字符串</span><br>        System.out.println(<span class="hljs-string">&quot;当前日期：&quot;</span> + format);<br><br>        <span class="hljs-comment">// 可以把一个格式化的 String 转成对应的 Date</span><br>        <span class="hljs-comment">// 使用的对象格式需要和 String 格式相同，否则会抛出转换异常</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;1996年1月1日 10:20:30 星期一 &quot;</span>;<br>        <span class="hljs-type">Date</span> <span class="hljs-variable">parse</span> <span class="hljs-operator">=</span> sdf.parse(s); <span class="hljs-comment">// 返回 Date 类型</span><br>        System.out.println(parse);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="第二代日期类-Calendar"><a href="#第二代日期类-Calendar" class="headerlink" title="第二代日期类 Calendar"></a>第二代日期类 Calendar</h4><ol>
<li><p>Calendar 基本介绍</p>
<ol>
<li><code>Calendar</code>（日历）类在 <code>java.util</code> 包下</li>
<li><code>Calendar</code> 类是一个抽象类，它为特定瞬间与一组诸如 <code>YEAR, MONTH, DAY_OF_MONTH, HOUR</code> 等日历字段之间的转换提供了一些方法，并为操作日历字段提供了一些方法</li>
</ol>
</li>
<li><p>Calendar 应用案例</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 演示 Calendar 的使用</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Calendar_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 1. Calendar是一个抽象类，并且构造器是 private</span><br>        <span class="hljs-comment">// 2. 可以通过 getInstance() 来获取实例</span><br>        <span class="hljs-comment">// 3. 提供大量的方法和字段提供给程序员</span><br>        <span class="hljs-comment">// 4. Calendar 没有提供对应的格式化的类，因此需要自己去组合输出</span><br>        <span class="hljs-comment">// 5. 如果需要按照 24 小时进制来获取时间，使用 Calendar.HOUR_OF_DAY 即可</span><br>        <span class="hljs-type">Calendar</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> Calendar.getInstance(); <span class="hljs-comment">// 创建日历类对象 //比较简单，自由</span><br>        System.out.println(<span class="hljs-string">&quot;c = &quot;</span> + c);<br><br>        <span class="hljs-comment">// 2.获取日历对象的某个日历字段</span><br>        System.out.println(<span class="hljs-string">&quot;年: &quot;</span> + c.get(Calendar.YEAR));<br>        <span class="hljs-comment">// 月是从 0 开始，所以要 +1</span><br>        System.out.println(<span class="hljs-string">&quot;月: &quot;</span> + (c.get(Calendar.MONTH) + <span class="hljs-number">1</span>));<br>        System.out.println(<span class="hljs-string">&quot;日: &quot;</span> + c.get(Calendar.DAY_OF_MONTH));<br>        System.out.println(<span class="hljs-string">&quot;小时: &quot;</span> + c.get(Calendar.HOUR));<br>        System.out.println(<span class="hljs-string">&quot;分钟: &quot;</span> + c.get(Calendar.MINUTE));<br>        System.out.println(<span class="hljs-string">&quot;秒: &quot;</span> + c.get(Calendar.SECOND));<br><br>        <span class="hljs-comment">// Calender没有专门的格式化方法，所以需要程序员自己来组合显示</span><br>        System.out.println(c.get(Calendar.YEAR) + <span class="hljs-string">&quot;年&quot;</span> +<br>                (c.get(Calendar.MONTH) + <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;月&quot;</span> +<br>                c.get(Calendar.DAY_OF_MONTH) + <span class="hljs-string">&quot;日&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="第三代日期类-LocalDate"><a href="#第三代日期类-LocalDate" class="headerlink" title="第三代日期类 LocalDate"></a>第三代日期类 LocalDate</h4><ul>
<li><p>前面两代的日期类的不足：</p>
<ul>
<li><code>JDK 1.0</code> 中包含了一个 <code>java.util.Date</code> 类，但是它的大多数方法已经在 <code>JDK 1.1</code> 引入 <code>Calendar</code> 类之后被弃用</li>
<li>而 <code>Calendar</code> 也存在一些问题：<ol>
<li>可变性：像日期和时间这样的类应该是不可变的</li>
<li>偏移性：<code>Date</code> 中的年份是从 <code>1900</code> 开始的，而月份都从 0 开始</li>
<li>格式化：格式化只对 <code>Date</code> 有用，<code>Calendar</code> 不行</li>
<li>此外，它们也不是线程安全的；不能处理闰秒等</li>
</ol>
</li>
</ul>
</li>
<li><p>第三代日期类的常用方法（JKD 8 之后）</p>
<ol>
<li><p><code>LocalDate(日期)</code>: 只包含日期，可以获取日期字段</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">LocalDate</span> <span class="hljs-variable">ld</span> <span class="hljs-operator">=</span> LocalDate.now(); <span class="hljs-comment">// 当前日期</span><br>System.out.print(ld.getYear() + <span class="hljs-string">&quot;年&quot;</span>);<br>System.out.print(ld.getMonthValue() + <span class="hljs-string">&quot;月&quot;</span>);<br>System.out.println(ld.getDayOfMonth() + <span class="hljs-string">&quot;日 &quot;</span>);<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>LocalTime(时间)</code>: 只包含时间，可以获取时间字段</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">LocalTime</span> <span class="hljs-variable">lt</span> <span class="hljs-operator">=</span> LocalTime.now(); <span class="hljs-comment">// 当前时间</span><br>System.out.print(lt.getHour() + <span class="hljs-string">&quot;时&quot;</span>);<br>System.out.print(lt.getMinute() + <span class="hljs-string">&quot;分&quot;</span>);<br>System.out.println(lt.getSecond() + <span class="hljs-string">&quot;秒&quot;</span>);<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>LocalDateTime(日期时间)</code>: 包含日期和时间，可以获取日期和时间的字段</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">ldt</span> <span class="hljs-operator">=</span> LocalDateTime.now();<br>System.out.println(ldt);<br>System.out.print(ldt.getYear() + <span class="hljs-string">&quot;年&quot;</span>);<br>System.out.print(ldt.getMonthValue() + <span class="hljs-string">&quot;月&quot;</span>);<br>System.out.print(ldt.getDayOfMonth() + <span class="hljs-string">&quot;日 &quot;</span>);<br>System.out.print(ldt.getHour() + <span class="hljs-string">&quot;时&quot;</span>);<br>System.out.print(ldt.getMinute() + <span class="hljs-string">&quot;分&quot;</span>);<br>System.out.println(ldt.getSecond() + <span class="hljs-string">&quot;秒&quot;</span>);<br></code></pre></td></tr></table></figure>
</li>
<li><p>DateTimeFormatter 格式化</p>
<ul>
<li><code>DateTimeFormatter</code> 类似于 <code>SimpleDateFormat</code></li>
<li><code>DateTimeFormatter</code> 类的使用</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 1. 使用 now() 表示当前日期时间的 对象</span><br><span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">ldt</span> <span class="hljs-operator">=</span> LocalDateTime.now();<br>System.out.println(ldt);<br><br><span class="hljs-comment">// 2. 使用 DateTimeFormatter 对象来进行格式化</span><br><span class="hljs-type">DateTimeFormatter</span> <span class="hljs-variable">dtf</span> <span class="hljs-operator">=</span> DateTimeFormatter.ofPattern(<span class="hljs-string">&quot;yyyy年MM月dd日 HH时mm分ss秒&quot;</span>);<br><span class="hljs-type">String</span> <span class="hljs-variable">strDate</span> <span class="hljs-operator">=</span> dtf.format(ldt);<br>System.out.println(strDate);<br></code></pre></td></tr></table></figure>
</li>
<li><p>Instant 时间戳</p>
<ul>
<li><code>Instant</code> 类似于 <code>Date</code></li>
<li><code>Instant</code> 与 <code>Date</code> 间的转换</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 1. 通过 静态方法 now() 获取表示当前时间戳的对象</span><br><span class="hljs-type">Instant</span> <span class="hljs-variable">now</span> <span class="hljs-operator">=</span> Instant.now();<br>System.out.println(now);<br><br><span class="hljs-comment">// 2. 通过 from() 可以把 Instant 转成 Date</span><br><span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> Date.from(now);<br><br><span class="hljs-comment">// 3. 通过 Date 的 toInstant() 可以把 Date 转成 Instant</span><br><span class="hljs-type">Instant</span> <span class="hljs-variable">instant</span> <span class="hljs-operator">=</span> date.toInstant();<br>System.out.println(instant);<br></code></pre></td></tr></table></figure>
</li>
<li><p>第三代日期类更多方法</p>
<ul>
<li><p><code>LocalDateTime</code> 类</p>
</li>
<li><p><code>MonthDay</code> 类：检查重复事件</p>
</li>
<li><p>是否是闰年</p>
</li>
<li><p>增加日期的某个部分</p>
</li>
<li><p>使用 <code>plus()</code> 方法测试增加时间的某个部分</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">plusDays</span> <span class="hljs-operator">=</span> ldt.plusDays(<span class="hljs-number">880</span>);<br>System.out.println(dtf.format(plusDays));<br></code></pre></td></tr></table></figure>
</li>
<li><p>使用 <code>minus()</code> 方法测试查看一年前或一年后的日期</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">minusYears</span> <span class="hljs-operator">=</span> ldt.minusYears(<span class="hljs-number">1</span>);<br>System.out.println(dtf.format(minusYears));<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="十二章作业"><a href="#十二章作业" class="headerlink" title="十二章作业"></a>十二章作业</h3><ol>
<li><p>编程题</p>
<ol>
<li>将字符串中指定部分进行反转。比如将 <code>&quot;abcdef&quot;</code> 反转为 <code>&quot;aedcbf&quot;</code></li>
<li>编写方法 <code>public static String reverse(String str, int start, int end)</code> 完成</li>
<li>分析图<br> <img src="/img/java_learn/mk-2022-05-26-15-27.png" srcset="/img/loading.gif" lazyload alt="分析图"></li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 将字符串中指定部分进行反转</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;abcdef&quot;</span>;<br>        System.out.println(<span class="hljs-string">&quot;交换前：&quot;</span> + str);<br>        <span class="hljs-keyword">try</span> &#123;<br>            str = reverse(str, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>);<br>            System.out.println(<span class="hljs-string">&quot;交换后：&quot;</span> + str);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(e.getMessage());<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">reverse</span><span class="hljs-params">(String str, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> &#123;<br>        <span class="hljs-comment">// 对输入的参数做一个验证</span><br>        <span class="hljs-comment">// 重要技巧！！</span><br>        <span class="hljs-comment">// 1. 写出正确的情况</span><br>        <span class="hljs-comment">// 2. 取反即可</span><br>        <span class="hljs-keyword">if</span> (!(str != <span class="hljs-literal">null</span> &amp;&amp; start &gt;= <span class="hljs-number">0</span> &amp;&amp; end &gt; start &amp;&amp; end &lt; str.length())) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;参数不正确&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-type">char</span>[] chars = str.toCharArray();<br>        <span class="hljs-type">char</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27; &#x27;</span>; <span class="hljs-comment">// 交换辅助变量</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> start, j = end; i &lt; j; i++, j--) &#123;<br>            temp = chars[i];<br>            chars[i] = chars[j];<br>            chars[j] = temp;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(chars);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>编程题<br> 输入用户名、密码、邮箱，如果信息录入正确，则提示注册成功，否则生成异常对象<br> 要求：</p>
<ol>
<li>用户名长度为 2 或 3 或 4</li>
<li>密码的长度为 6，要求全是数字</li>
<li>邮箱中包含 <code>@</code> 和 <code>.</code> 并且 <code>@</code> 在 <code>.</code> 的前面</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 输入正确信息</span><br><span class="hljs-comment">* 1. 编写方法 userRegister(String name, String pwd, String email) &#123;&#125;</span><br><span class="hljs-comment">* 2. 针对 输入的内容进行校验，如果有问题就抛出异常，给出提示</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Jack&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">pwd</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;123456&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">email</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;jack@sohu.com&quot;</span>;<br><br>        <span class="hljs-keyword">try</span> &#123;<br>            userRegister(name, pwd, email);<br>            System.out.println(<span class="hljs-string">&quot;注册完成！&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (RuntimeException e) &#123;<br>            System.out.println(e.getMessage());<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">userRegister</span><span class="hljs-params">(String name, String pwd, String email)</span> &#123;<br>        <span class="hljs-comment">// 额外关</span><br>        <span class="hljs-keyword">if</span> (!(name != <span class="hljs-literal">null</span> &amp;&amp; pwd != <span class="hljs-literal">null</span> &amp;&amp; email != <span class="hljs-literal">null</span>)) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;参数不能为空!&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// 过关斩将写法</span><br>        <span class="hljs-comment">// 第一关</span><br>        <span class="hljs-comment">// 先写出正确情况，再取反</span><br>        <span class="hljs-keyword">if</span> (!(name.length() &gt;= <span class="hljs-number">2</span> &amp;&amp; name.length() &lt;= <span class="hljs-number">4</span>)) &#123;<br>            System.out.println(<span class="hljs-string">&quot;用户名长度为 2/3/4&quot;</span>);<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;用户名输入错误！&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// 第二关</span><br>        <span class="hljs-keyword">if</span> (!(pwd.length() == <span class="hljs-number">6</span> &amp;&amp; isDigital(pwd))) &#123;<br>            System.out.println(<span class="hljs-string">&quot;密码为 6 位数字&quot;</span>);<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;密码输入错误！&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// 第三关</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> email.indexOf(<span class="hljs-string">&quot;@&quot;</span>);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> email.indexOf(<span class="hljs-string">&quot;.&quot;</span>);<br>        <span class="hljs-keyword">if</span> (!(i &gt; <span class="hljs-number">0</span> &amp;&amp; i &lt; j)) &#123;<br>            System.out.println(<span class="hljs-string">&quot;邮箱中包含 @ 和 . 并且 @ 在 . 的前面&quot;</span>);<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;用户名：&quot;</span> + name);<br>        System.out.println(<span class="hljs-string">&quot;密码：&quot;</span> + pwd);<br>        System.out.println(<span class="hljs-string">&quot;邮箱：&quot;</span> + email);<br><br>    &#125;<br><br>    <span class="hljs-comment">// 判断密码是否全部为数字，返回布尔值</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isDigital</span><span class="hljs-params">(String str)</span> &#123;<br>        <span class="hljs-type">char</span>[] chars = str.toCharArray();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; chars.length; i++) &#123;<br>            <span class="hljs-keyword">if</span> (chars[i] &lt; <span class="hljs-string">&#x27;0&#x27;</span> || chars[i] &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>编程题</p>
<ol>
<li>编写 Java 程序，输入形式为：<code>Han Shun Ping</code> 的人名，以 <code>Ping, Han .S</code> 的形式打印出来。其中 <code>.S</code> 是中间单词的首字母</li>
<li>例如输入 <code>&quot;William Jefferson Clinton&quot;</code>，输出形式为：<code>Clinton, William .J</code></li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 按格式打印姓名</span><br><span class="hljs-comment">* 1. 对字符串进行分割 split()</span><br><span class="hljs-comment">* 2. 对得到的 String[] 进行格式化</span><br><span class="hljs-comment">* 3. 对输入的字符串进行校验</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework03</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;William Jefferson Clinton&quot;</span>;<br>        printName(name);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-keyword">if</span> (name == <span class="hljs-literal">null</span>) &#123;<br>            System.out.println(<span class="hljs-string">&quot;名字不能为空！&quot;</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>        String[] names = name.split(<span class="hljs-string">&quot; &quot;</span>);<br><br>        <span class="hljs-keyword">if</span> (names.length != <span class="hljs-number">3</span>) &#123;<br>            System.out.println(<span class="hljs-string">&quot;名字格式错误！&quot;</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">&quot;%s, %s .%s&quot;</span>,<br>                names[<span class="hljs-number">2</span>], names[<span class="hljs-number">0</span>], names[<span class="hljs-number">1</span>].toUpperCase().charAt(<span class="hljs-number">0</span>));<br>        System.out.println(str);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>编程题<br> 输入字符串，判断里面有多少个大写字母，多少个小写字母，多少个数字</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 字符串判断</span><br><span class="hljs-comment">* 输入字符串，判断里面有多少个大写字母，多少个小写字母，多少个数字</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework04</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;William Jefferson Clinton33665&quot;</span>;<br>        judge(str);<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(String str)</span> &#123;<br>        <span class="hljs-keyword">if</span> (str == <span class="hljs-literal">null</span>) &#123;<br>            System.out.println(<span class="hljs-string">&quot;字符串不能为空！&quot;</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">upperCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// 大写字母</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">lowerCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// 小写字母</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">numCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// 数字</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">otherCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// 其他字符</span><br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; str.length(); i++) &#123;<br>            <span class="hljs-keyword">if</span> (str.charAt(i) &gt;= <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; str.charAt(i) &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>) &#123;<br>                upperCount++;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (str.charAt(i) &gt;= <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; str.charAt(i) &lt;= <span class="hljs-string">&#x27;z&#x27;</span>) &#123;<br>                lowerCount++;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (str.charAt(i) &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; str.charAt(i) &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<br>                numCount++;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                otherCount++;<br>            &#125;<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;大写字母：&quot;</span> + upperCount);<br>        System.out.println(<span class="hljs-string">&quot;小写字母：&quot;</span> + lowerCount);<br>        System.out.println(<span class="hljs-string">&quot;数字：&quot;</span> + numCount);<br>        System.out.println(<span class="hljs-string">&quot;其他字符：&quot;</span> + otherCount);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>写出下列代码的输出内容</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 写出以下的运行结果</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework05</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>        <span class="hljs-type">Animal</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(s1);<br>        <span class="hljs-type">Animal</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(s1);<br>        System.out.println(a == b); <span class="hljs-comment">// false</span><br>        System.out.println(a.equals(b)); <span class="hljs-comment">// false</span><br>        System.out.println(a.name == b.name); <span class="hljs-comment">// true</span><br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;hello&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s5</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>        System.out.println(s1 == s4); <span class="hljs-comment">// false</span><br>        System.out.println(s4 == s5); <span class="hljs-comment">// false</span><br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> s1 + <span class="hljs-string">&quot; world&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello world&quot;</span>;<br>        System.out.println(t1.intern() == t2); <span class="hljs-comment">// true</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>    String name;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Animal</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="十三、集合"><a href="#十三、集合" class="headerlink" title="十三、集合"></a>十三、集合</h2><h3 id="集合的理解和好处"><a href="#集合的理解和好处" class="headerlink" title="集合的理解和好处"></a>集合的理解和好处</h3><p>前面保存多个数据使用的是<strong>数组</strong>，数组有很多不足的地方</p>
<p>数组：</p>
<ol>
<li>长度开始时必须指定，而且一旦指定，不能更改</li>
<li>保存的必须为同一类型的元素</li>
<li>数组的扩容，需要先创建新数组，再拷贝，比较麻烦</li>
</ol>
<p>集合：</p>
<ol>
<li>可以动态保存任意多个对象</li>
<li>提供了一系列方便的操作对象的方法：<code>add(), remove(), set(), get()</code>等</li>
<li>使用集合添加、删除新元素比较简洁</li>
</ol>
<h3 id="集合框架体系图（重点）"><a href="#集合框架体系图（重点）" class="headerlink" title="集合框架体系图（重点）"></a>集合框架体系图（重点）</h3><p><img src="/img/java_learn/diagrams/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E4%BD%93%E7%B3%BB%E5%9B%BE.svg" srcset="/img/loading.gif" lazyload alt="集合框架体系图"></p>
<h3 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h3><ol>
<li><p>Collection 接口实现类的特点</p>
<p> <code>public interface Collection&lt;E&gt; extends Iterable&lt;E&gt;</code></p>
<ol>
<li><code>Collection</code> 实现子类可以存放多个元素，每个元素可以是 <code>Object</code></li>
<li>有些 <code>Collection</code> 的实现类，可以存放重复的元素，有些不可以</li>
<li>有些 <code>Collection</code> 的实现类，可能是有序的（<code>List</code>），也可能是无序的（<code>Set</code>）</li>
<li><code>Collection</code> 接口没有直接的实现子类，是通过它的子接口 <code>Set</code> 和 <code>List</code> 来实现的</li>
</ol>
</li>
<li><p>Collection 接口常用方法</p>
<ol>
<li><code>add</code>: 添加单个元素，返回 <code>boolean</code></li>
<li><code>remove</code>: 删除指定元素，返回 <code>boolean</code> 或 <code>Object</code></li>
<li><code>contains</code>: 查找元素是否存在，返回 <code>boolean</code></li>
<li><code>size</code>: 获取元素个数，返回 <code>int</code></li>
<li><code>isEmpty</code>: 判断是否为空，返回 <code>boolean</code></li>
<li><code>clear</code>: 清空，没有返回值</li>
<li><code>addAll</code>: 添加多个元素，返回 <code>boolean</code></li>
<li><code>containsAll</code>: 查找多个元素是否都存在，返回 <code>boolean</code></li>
<li><code>removeAll</code>: 删除多个元素，返回 <code>boolean</code></li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Collection_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 创建一个 ArrayList 对象</span><br>        <span class="hljs-type">ArrayList</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br><br>        list.add(<span class="hljs-number">100</span>);<br>        list.add(<span class="hljs-string">&quot;Jack&quot;</span>);<br>        list.add(<span class="hljs-literal">true</span>);<br>        System.out.println(list); <span class="hljs-comment">// [100, Jack, true]</span><br><br>        list.remove(<span class="hljs-string">&quot;Mary&quot;</span>);<br>        list.remove(<span class="hljs-number">0</span>);<br>        System.out.println(list); <span class="hljs-comment">// [Jack, true]</span><br><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> list.contains(<span class="hljs-string">&quot;Jack&quot;</span>);<br>        System.out.println(b); <span class="hljs-comment">// true</span><br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> list.size();<br>        System.out.println(size); <span class="hljs-comment">// 2</span><br><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">empty</span> <span class="hljs-operator">=</span> list.isEmpty();<br>        System.out.println(empty); <span class="hljs-comment">// false</span><br><br>        list.clear();<br>        System.out.println(list); <span class="hljs-comment">// []</span><br><br>        <span class="hljs-comment">// addAll() 添加多个元素</span><br>        <span class="hljs-type">ArrayList</span> <span class="hljs-variable">list2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        list2.add(<span class="hljs-string">&quot;红楼梦&quot;</span>);<br>        list2.add(<span class="hljs-string">&quot;三国演义&quot;</span>);<br>        list.addAll(list2);<br>        System.out.println(list); <span class="hljs-comment">// [红楼梦, 三国演义]</span><br><br>        System.out.println(list.containsAll(list2)); <span class="hljs-comment">// true</span><br>        <br>        System.out.println(list.removeAll(list2)); <span class="hljs-comment">// true</span><br>        System.out.println(list); <span class="hljs-comment">// []</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>Collection 接口遍历元素</p>
<ol>
<li><p>方式 1 ：使用 Iterator（迭代器）</p>
<ol>
<li><code>Iterator</code> 对象称为迭代器，主要用于遍历 <code>Collection</code> 集合中的元素</li>
<li>所有实现了 <code>Collection</code> 接口的集合类都有一个 <code>iterator()</code> 方法，用以返回一个实现了 <code>Iterator</code> 接口的对象，即可返回一个迭代器</li>
<li><code>Iterator</code> 的结构图示<br> <img src="/img/java_learn/mk-2022-05-31-17-09.png" srcset="/img/loading.gif" lazyload alt="迭代器的执行原理"></li>
<li><code>Iterator</code> 仅用于遍历集合，本身并不存放对象</li>
<li><code>Iterator</code> 接口的方法<ul>
<li><code>hasNext()</code>: 判断是否还有下一个元素，返回 <code>boolean</code></li>
<li><code>next()</code>: 获取下一个元素，返回 <code>Object</code></li>
<li><code>remove()</code>: 删除元素</li>
</ul>
</li>
</ol>
</li>
<li><p>方式 2：for 循环增强</p>
<ul>
<li><p><code>for each</code> 循环，可以代替 <code>iterator</code> 迭代器，是简化版的 <code>iterator</code>。只能用于遍历集合或数组</p>
</li>
<li><p>基本语法</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">for</span> (元素类型 元素名 : 集合名/数组名) &#123;<br>    访问元素;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>代码示例</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Iterator_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Collection</span> <span class="hljs-variable">col</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br><br>        col.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;三国演义&quot;</span>, <span class="hljs-string">&quot;罗贯中&quot;</span>, <span class="hljs-number">10.1</span>));<br>        col.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;小李飞刀&quot;</span>, <span class="hljs-string">&quot;古龙&quot;</span>, <span class="hljs-number">5.1</span>));<br>        col.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;红楼梦&quot;</span>, <span class="hljs-string">&quot;曹雪芹&quot;</span>, <span class="hljs-number">34.6</span>));<br><br>        System.out.println(<span class="hljs-string">&quot;col = &quot;</span> + col);<br>        <span class="hljs-comment">// 遍历 col 集合</span><br>        <span class="hljs-comment">// 1. 先得到 col 对应的迭代器</span><br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">iterator</span> <span class="hljs-operator">=</span> col.iterator();<br><br>        <span class="hljs-comment">// 2. 使用 while 循环遍历</span><br>        System.out.println(<span class="hljs-string">&quot;\nwhile 循环遍历&quot;</span>);<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123; <span class="hljs-comment">// 判断是否还有数据</span><br>            <span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> iterator.next();<br>            System.out.println(<span class="hljs-string">&quot;obj = &quot;</span> + obj);<br>        &#125;<br><br>        <span class="hljs-comment">// 3. 当迭代器退出循环后，这时 iterator 迭代器，指向最后的元素</span><br>        <span class="hljs-comment">// iterator.next(); // NoSuchElementException</span><br>        <span class="hljs-comment">// 4. 如果希望再次遍历，需要重置迭代器</span><br>        iterator = col.iterator(); <span class="hljs-comment">// 重置迭代器</span><br>        System.out.println(<span class="hljs-string">&quot;\n再次遍历&quot;</span>);<br>        <span class="hljs-keyword">while</span>(iterator.hasNext()) &#123;<br>            <span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> iterator.next();<br>            System.out.println(<span class="hljs-string">&quot;obj = &quot;</span> + obj);<br>        &#125;<br><br>        <span class="hljs-comment">// 5. 使用 增强 for 循环遍历</span><br>        <span class="hljs-comment">// 增强 for 底层仍然是迭代器</span><br>        System.out.println(<span class="hljs-string">&quot;\n增强 for 循环遍历&quot;</span>);<br>        <span class="hljs-keyword">for</span> (Object obj : col) &#123;<br>            System.out.println(<span class="hljs-string">&quot;obj = &quot;</span> + obj);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-meta">@SuppressWarnings(&#123; &quot;all&quot; &#125;)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Book</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String author;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Book</span><span class="hljs-params">(String name, String author, <span class="hljs-type">double</span> price)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.author = author;<br>        <span class="hljs-built_in">this</span>.price = price;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Book [author=&quot;</span> + author + <span class="hljs-string">&quot;, name=&quot;</span> + name + <span class="hljs-string">&quot;, price=&quot;</span> + price + <span class="hljs-string">&quot;]&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><ol>
<li><p>List 接口基本介绍</p>
<ol>
<li><code>List</code> 集合类中元素有序，且可重复</li>
<li><code>List</code> 集合中的每个元素都有其对应的顺序索引，即支持索引</li>
<li><code>List</code> 容器中的元素都对应一个整数型的序号记载其在容器中的位置，可以根据序号存取容器中的元素。如：<code>list.get(3);</code></li>
<li><code>List</code> 接口常用实现类：<code>ArrayList, LinkedList, Vector</code></li>
</ol>
</li>
<li><p>List 接口常用方法<br> <code>List</code>集合里添动加了一些根据索来操作集合元素的方法</p>
<ol>
<li><code>void add(int index, Object ele)</code>: 在 <code>index</code> 位置插入 <code>ele</code> 元素，默认在末尾插入</li>
<li><code>boolean addAll(int index, Collection eles)</code>: 从 <code>index</code> 位置开始将 <code>eles</code> 中的所有元素添加进来</li>
<li><code>Object get(int index)</code>: 获取指定 <code>index</code> 位置的元素</li>
<li><code>int indexOf(Object obj)</code>: 返回 <code>obj</code> 在集合中首次出现的位置</li>
<li><code>int lastIndexOf(Object obj)</code>: 返回 <code>obj</code> 在当前集合中末次出现的位置</li>
<li><code>Object remove(int index)</code>: 移除指定 <code>index</code> 位置的元素，并返回此元素</li>
<li><code>Object set(int index, Object ele)</code>: 设置指定 <code>index</code> 位置的元素为 <code>ele</code>，相当于是替换</li>
<li><code>List subList(int fromIndex, int toIndex)</code>: 返回从 <code>fromIndex</code> 到 <code>toIndex</code> 位置的子集合</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 演示 List 常用方法的使用</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">List_</span> &#123;<br>    <span class="hljs-meta">@SuppressWarnings(&#123; &quot;all&quot; &#125;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">List</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br><br>        <span class="hljs-comment">// void add(int index, Object ele)</span><br>        <span class="hljs-comment">// 在 index 位置插入 ele 元素，默认在末尾插入</span><br>        list.add(<span class="hljs-string">&quot;张三丰&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;贾宝玉&quot;</span>);<br>        <span class="hljs-comment">// 在 index = 1 的位置插入一个元素</span><br>        list.add(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;李白&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;list = &quot;</span> + list); <span class="hljs-comment">// [张三丰, 李白, 贾宝玉]</span><br><br>        <span class="hljs-comment">// boolean addAll(int index, Collection eles):</span><br>        <span class="hljs-comment">// 从 index 位置开始将 eles 中的所有元素添加进来</span><br>        <span class="hljs-type">List</span> <span class="hljs-variable">list2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        list2.add(<span class="hljs-string">&quot;Jack&quot;</span>);<br>        list2.add(<span class="hljs-string">&quot;Tom&quot;</span>);<br>        list.addAll(<span class="hljs-number">1</span>, list2);<br>        System.out.println(<span class="hljs-string">&quot;list = &quot;</span> + list); <span class="hljs-comment">// [张三丰, Jack, Tom, 李白, 贾宝玉]</span><br><br>        <span class="hljs-comment">// Object get(int index)</span><br>        <span class="hljs-comment">// 获取指定 index 位置的元素</span><br>        System.out.println(list.get(<span class="hljs-number">3</span>)); <span class="hljs-comment">// 李白</span><br><br>        <span class="hljs-comment">// int indexOf(Object obj)</span><br>        <span class="hljs-comment">// 返回 obj 在集合中首次出现的位置，若没有，返回 -1</span><br>        System.out.println(list.indexOf(<span class="hljs-string">&quot;Tom&quot;</span>)); <span class="hljs-comment">// 2</span><br><br>        <span class="hljs-comment">// int lastIndexOf(Object obj)</span><br>        <span class="hljs-comment">// 返回 obj 在当前集合中最后一次出现的位置</span><br>        list.add(<span class="hljs-string">&quot;李白&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;list = &quot;</span> + list);<br>        System.out.println(list.lastIndexOf(<span class="hljs-string">&quot;李白&quot;</span>)); <span class="hljs-comment">// 5</span><br><br>        <span class="hljs-comment">// Object remove(int index)</span><br>        <span class="hljs-comment">// 移除指定 index 位置的元素，并返回此元素</span><br>        list.remove(<span class="hljs-number">1</span>); <span class="hljs-comment">// Jack</span><br>        System.out.println(<span class="hljs-string">&quot;list = &quot;</span> + list); <span class="hljs-comment">// [张三丰, Tom, 李白, 贾宝玉, 李白]</span><br>        <br>        <span class="hljs-comment">// Object set(int index, Object ele)</span><br>        <span class="hljs-comment">// 设置指定 index 位置的元素为 ele，相当于是替换</span><br>        <span class="hljs-comment">// 如果索引不存在，则报 IndexOutOfBoundsException 异常</span><br>        list.set(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;abc&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;list = &quot;</span> + list); <span class="hljs-comment">// [abc, Tom, 李白, 贾宝玉, 李白]</span><br><br>        <span class="hljs-comment">// List subList(int fromIndex, int toIndex)</span><br>        <span class="hljs-comment">// 返回从 fromIndex 到 toIndex 位置的子集合</span><br>        <span class="hljs-comment">// fromIndex &lt;= subList &lt; toIndex</span><br>        <span class="hljs-type">List</span> <span class="hljs-variable">subList</span> <span class="hljs-operator">=</span> list.subList(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>); <span class="hljs-comment">// [1, 4)</span><br>        System.out.println(<span class="hljs-string">&quot;subList = &quot;</span> + subList); <span class="hljs-comment">// [Tom, 李白, 贾宝玉]</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>List 接口课堂练习（遍历）</p>
<ol>
<li><p>添加 10 个以上的元素（比如<code>String &quot;hello&quot;</code>)，在 2 号位插入一个元素 <code>&quot;李白&quot;</code>，获得第 5 个元素，删除第6个元素，修改第 7 个元素，再使用三种方式遍历集合，要求：使用 <code>List</code> 的实现类 <code>ArrayList</code> 完成。</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ListExercise01</span> &#123;<br>    <span class="hljs-meta">@SuppressWarnings(&#123; &quot;all&quot; &#125;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">List</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        <span class="hljs-comment">// for 循环遍历添加元素</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            list.add(<span class="hljs-string">&quot;hello &quot;</span> + i);<br>        &#125;<br><br>        <span class="hljs-comment">// 在 2 号位插入一个元素</span><br>        list.add(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;李白&quot;</span>);<br><br>        <span class="hljs-comment">// 获得第 5 个元素</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">obj5</span> <span class="hljs-operator">=</span> list.get(<span class="hljs-number">5</span>);<br>        System.out.println(obj5);<br><br>        <span class="hljs-comment">// 删除第 6 个元素</span><br>        list.remove(<span class="hljs-number">6</span>);<br><br>        <span class="hljs-comment">// 修改第 7 个元素</span><br>        list.set(<span class="hljs-number">7</span>, <span class="hljs-string">&quot;abc&quot;</span>);<br><br>        <span class="hljs-comment">// 三种方式遍历 List 集合</span><br><br>        <span class="hljs-comment">// 1. 迭代器遍历</span><br>        System.out.println(<span class="hljs-string">&quot;\n====1. 迭代器遍历====&quot;</span>);<br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">iterator</span> <span class="hljs-operator">=</span> list.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            <span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> iterator.next();<br>            System.out.print(obj + <span class="hljs-string">&quot; &quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// 2. 增强 for 遍历元素</span><br>        System.out.println(<span class="hljs-string">&quot;\n====2. for each 遍历元素====&quot;</span>);<br>        <span class="hljs-keyword">for</span> (Object obj : list) &#123;<br>            System.out.print(obj + <span class="hljs-string">&quot; &quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// 3. 普通 for 循环遍历</span><br>        System.out.println(<span class="hljs-string">&quot;\n====3. for 循环遍历元素====&quot;</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; list.size(); i++) &#123;<br>            <span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> list.get(i);<br>            System.out.print(obj + <span class="hljs-string">&quot; &quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>使用 List 的实现类添加三本图书，并遍历，打印如下效果</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">名称：XX    价格：XX    作者：XX<br>名称：XX    价格：XX    作者：XX<br>名称：XX    价格：XX    作者：XX<br></code></pre></td></tr></table></figure>

<ol>
<li>要求按照价格从低到高排序（使用冒泡法）</li>
<li>要求使用 <code>ArrayList, LinkedList, Vector</code> 三种集合实现</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ListExercise02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// List list = new ArrayList();</span><br>        <span class="hljs-comment">// List list = new LinkedList();</span><br>        <span class="hljs-type">List</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vector</span>();<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;三国演义&quot;</span>, <span class="hljs-string">&quot;罗贯中&quot;</span>, <span class="hljs-number">150</span>));<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;西游记&quot;</span>, <span class="hljs-string">&quot;罗承恩&quot;</span>, <span class="hljs-number">120</span>));<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;红楼梦&quot;</span>, <span class="hljs-string">&quot;曹雪芹&quot;</span>, <span class="hljs-number">170</span>));<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;水浒传&quot;</span>, <span class="hljs-string">&quot;施耐庵&quot;</span>, <span class="hljs-number">160</span>));<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;西游记&quot;</span>, <span class="hljs-string">&quot;罗承恩&quot;</span>, <span class="hljs-number">120</span>));<br><br>        bubbleSort(list);<br>        <span class="hljs-keyword">for</span> (Object obj : list) &#123;<br>            System.out.println(obj);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 对集合进行排序</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">bubbleSort</span><span class="hljs-params">(List list)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">listSize</span> <span class="hljs-operator">=</span> list.size();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; listSize - <span class="hljs-number">1</span>; i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; listSize - i - <span class="hljs-number">1</span>; j++) &#123;<br>                <span class="hljs-comment">// 获取对象的价格</span><br>                <span class="hljs-type">Book</span> <span class="hljs-variable">book1</span> <span class="hljs-operator">=</span> (Book) (list.get(j));<br>                <span class="hljs-type">Book</span> <span class="hljs-variable">book2</span> <span class="hljs-operator">=</span> (Book) (list.get(j + <span class="hljs-number">1</span>));<br>                <span class="hljs-keyword">if</span> (book1.getPrice() &gt; book2.getPrice()) &#123;<br>                    list.set(j, book2);<br>                    list.set(j + <span class="hljs-number">1</span>, book1);<br>                &#125;<br>            &#125;<br>        &#125;<br><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Book</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String author;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Book</span><span class="hljs-params">(String name, String author, <span class="hljs-type">double</span> price)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.author = author;<br>        <span class="hljs-built_in">this</span>.price = price;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getPrice</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> price;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;名称：&quot;</span> + name + <span class="hljs-string">&quot;\t 价格：&quot;</span> + price + <span class="hljs-string">&quot;\t 作者：&quot;</span> + author;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h5 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h5><p>ArrayList 注意事项</p>
<ol>
<li><code>ArrayList</code> 可以加入多个 <code>null</code></li>
<li><code>ArrayList</code> 是由数组来实现数据存储的</li>
<li><code>ArrayList</code> 基本等同于 <code>Vector</code>，除了 <code>ArrayList</code> 是线程不安全的（执行效率高）。在多线程的情况下，不建议使用 <code>ArrayList</code></li>
</ol>
<p>ArrayList的底层操作机制源码分析（重点，难点）</p>
<ol>
<li><code>ArrayList</code> 中维护了一个 <code>Object</code> 类型的数组<br> <code>transient Object[] elementData; // transient 瞬间，短暂的。表示该属性不会被序列化</code></li>
<li>当创建对象时，如果使用的是无参构造器，则初始 <code>elementData</code> 容量为 0 （JDK7 是 10）</li>
<li>当添加元素时：先判断是否需要扩容，如果需要扩容，则调用 <code>grow()</code> 方法，否则直接添加元素到合适位置</li>
<li>如果使用的是无参构造器，如果第一次添加，需要扩容的话，则扩容 <code>elementData</code> 为 10，如果需要再次扩容的话，则扩容 <code>elementData</code> 为 1.5 倍。</li>
<li>如果使用的是指定容量 <code>capacity</code> 的构造器，则初始 <code>elementData</code> 容量为 <code>capacity</code></li>
<li>如果使用的是指定容量 <code>capacity</code> 的构造器，如果需要扩容，则直接扩容 <code>elementData</code> 为 1.5 倍。</li>
<li>ArrayList 源码分析<br> <a href="../myJava/src/com/chapter13/collection_/list_/ArrayListSource.java">ArrayList 源码分析</a><br> 自行 <code>Debug</code> 源码</li>
</ol>
<h5 id="Vector（重要）"><a href="#Vector（重要）" class="headerlink" title="Vector（重要）"></a>Vector（重要）</h5><p>Vector 类说明</p>
<ol>
<li><p><code>Vector</code> 定义</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Vector</span>&lt;E&gt;<br>    <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractList</span>&lt;E&gt;<br>    <span class="hljs-keyword">implements</span> <span class="hljs-title class_">List</span>&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>Vector</code> 底层也是一个对象数组<br> <code>protected Object[] elementData;</code></p>
</li>
<li><p><code>Vector</code> 是线程同步的，即<strong>线程安全</strong>，<code>Vector</code> 类的操作方法带有 <code>synchronized</code></p>
</li>
<li><p>在开发中，需要<strong>线程同步安全</strong>时，考虑使用 <code>Vector</code></p>
</li>
</ol>
<p>Vector 底层结构和 ArrayList 的比较</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">底层结构</th>
<th align="left">版本</th>
<th align="left">线程安全（同步）效率</th>
<th align="left">扩容倍数</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ArrayList</td>
<td align="left">可变数组 <code>Object[]</code></td>
<td align="left">JDK 1.2</td>
<td align="left">不安全，效率高</td>
<td align="left">如果有参构造，扩容 1.5 倍；如果是无参构造，初始容量为 0，第一次扩容到 10，从第二次开始扩容 1.5 倍</td>
</tr>
<tr>
<td align="left">Vector</td>
<td align="left">可变数组 <code>Object[]</code></td>
<td align="left">JDK 1.0</td>
<td align="left">安全，效率不高</td>
<td align="left">如果是无参，初始容量为 10，满后，按 2 倍扩容；如果有参构造，则每次直接按 2 倍扩容</td>
</tr>
</tbody></table>
<h5 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h5><p>LinkedList 说明</p>
<ol>
<li><code>LinkedList</code> 实现了双向<strong>链表</strong>和双端<strong>队列</strong>特点</li>
<li>可以添加任意元素（元素可以重复），包括 <code>null</code></li>
<li>线程不安全，没有实现同步</li>
</ol>
<p>LinkedList 底层结构</p>
<ol>
<li><code>LinkedList</code> 底层维护了一个<strong>双向链表</strong></li>
<li><code>LinkedList</code> 中维护了两个属性 <code>first</code> 和 <code>last</code> 分别指向<strong>首节点</strong>和<strong>尾节点</strong></li>
<li>每个节点（<code>Node</code> 对象），里面又维护了 <code>prev 、next、item</code> 三个属性，其中通过 <code>prev</code> 指向前一个，通过 <code>next</code> 指向后一个节点。最终实现<strong>双向链表</strong></li>
<li>所以 <code>LinkedList</code> 的元素的<strong>添加和删除</strong>，不是通过数组完成的，相对来说<strong>效率较高</strong></li>
<li>双向链表示意图<br> <img src="/img/java_learn/mk-2022-06-01-17-58.png" srcset="/img/loading.gif" lazyload alt="双向链表示意图"></li>
</ol>
<p>ArrayList 和 LinkedList 的比较</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">底层结构</th>
<th align="left">增删的效率</th>
<th align="left">改查的效率</th>
<th align="left">线程安全</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ArrayList</td>
<td align="left">可变数组</td>
<td align="left">较低，通过数组扩容</td>
<td align="left">较高</td>
<td align="left">不安全</td>
</tr>
<tr>
<td align="left">LinkedList</td>
<td align="left">双向链表</td>
<td align="left">较高，通过链表追加</td>
<td align="left">较低</td>
<td align="left">不安全</td>
</tr>
</tbody></table>
<p>如何选择ArrayList和LinkedList:</p>
<ol>
<li>如果我们改查的操作多，选择 <code>ArrayList</code></li>
<li>如果我们增删的操作多，选择 <code>LinkedList</code></li>
<li>一般来说，在程序中，80%-90% 都是查询，因此大部分情况下会选择 <code>ArrayList</code></li>
<li>在一个项目中，也可能一个模块使用的是 <code>ArrayList</code>，另外一个模块是 <code>LinkedList</code>，也就是说，要根据业务来灵活选择</li>
</ol>
<h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><p>Set 接口基本介绍</p>
<ol>
<li><strong>无序</strong>（添加和取出的顺序不一致），没有索引</li>
<li><strong>不允许</strong>重复元素，所以最多包含一个 <code>null</code></li>
<li><code>Set</code> 接口的实现类在 JDK API 中</li>
</ol>
<p>Set 接口常用方法</p>
<ul>
<li>同 <code>List</code> 接口，<code>Set</code> 接口也是 <code>Collection</code> 的子接口，因此，常用方法和 <code>Collection</code> 接口相同</li>
</ul>
<p>Set 接口的遍历方式</p>
<ul>
<li>同 <code>Collection</code>，因为 Set 接口是 <code>Collection</code> 接口的子接口</li>
</ul>
<ol>
<li>使用迭代器</li>
<li>增强 for</li>
<li><strong>不能使用</strong>索引的方式来获取</li>
</ol>
<p>Set 接口演示案例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SetMethod</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 1. 以 Set 接口的实现类 HashSet 来讲解 Set 接口的方法</span><br>        <span class="hljs-comment">// 2. set 接口的实现类对象（s/et 接口对象），不能存放重复的元素，可以添加一个 null</span><br>        <span class="hljs-comment">// 3. set 接口对象存放的数据是无序的</span><br>        <span class="hljs-comment">// 4. 取出的顺序是固定的</span><br>        <span class="hljs-type">Set</span> <span class="hljs-variable">set</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>();<br>        set.add(<span class="hljs-string">&quot;john&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;lucy&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;john&quot;</span>); <span class="hljs-comment">// 添加重复元素</span><br>        set.add(<span class="hljs-string">&quot;jack&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;mary&quot;</span>);<br>        set.add(<span class="hljs-literal">null</span>);<br>        set.add(<span class="hljs-literal">null</span>); <span class="hljs-comment">// 再次添加 null</span><br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            System.out.println(<span class="hljs-string">&quot;set = &quot;</span> + set);<br>        &#125;<br><br>        <span class="hljs-comment">// 遍历</span><br>        <span class="hljs-comment">// 1. 使用迭代器</span><br>        System.out.println(<span class="hljs-string">&quot;===使用迭代器遍历===&quot;</span>);<br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">iterator</span> <span class="hljs-operator">=</span> set.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            System.out.println(iterator.next());<br>        &#125;<br><br>        set.remove(<span class="hljs-literal">null</span>); <span class="hljs-comment">// 删除元素</span><br><br>        <span class="hljs-comment">// 2. 使用增强 for</span><br>        System.out.println(<span class="hljs-string">&quot;===使用增强 for 遍历===&quot;</span>);<br>        <span class="hljs-keyword">for</span> (Object object : set) &#123;<br>            System.out.println(object);<br>        &#125; <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="HashSet（重要）"><a href="#HashSet（重要）" class="headerlink" title="HashSet（重要）"></a>HashSet（重要）</h5><p>HashSet 的基本介绍</p>
<ol>
<li><p><code>HashSet</code> 实现了 <code>Set</code> 接口</p>
</li>
<li><p><code>HashSet</code> 实际上是 <code>HashMap</code></p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">HashSet</span><span class="hljs-params">()</span> &#123;<br>    map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>可以存放 <code>null</code> 值，但是只能有一个 <code>null</code></p>
</li>
<li><p><code>HashSet</code> 不保证元素是有序的，取决于 <code>hash</code> 后，再确定索引的结果（即，不保证存放元素的顺序</p>
</li>
<li><p>不能有重复元素&#x2F;对象</p>
</li>
</ol>
<p>HashSet 底层机制</p>
<ul>
<li><p>模拟简单的数组 + 链表结构<br>  <img src="/img/java_learn/mk-2022-06-04-16-01.png" srcset="/img/loading.gif" lazyload alt="模拟数组链表结构"></p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * 模拟 HashSet(HashMap) 的底层结构</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HashSetStructure</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 1. 创建一个数组，数组的类型为 Node</span><br>        <span class="hljs-comment">// 有些人把 Node[] 数组称为 表</span><br>        Node[] table = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>[<span class="hljs-number">16</span>];<br><br>        <span class="hljs-type">Node</span> <span class="hljs-variable">john</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(<span class="hljs-string">&quot;john&quot;</span>);<br>        table[<span class="hljs-number">2</span>] = john;<br>        <span class="hljs-type">Node</span> <span class="hljs-variable">jack</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(<span class="hljs-string">&quot;jack&quot;</span>);<br>        john.next = jack; <span class="hljs-comment">// 将 jack 挂载到 john</span><br>        <span class="hljs-type">Node</span> <span class="hljs-variable">rose</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(<span class="hljs-string">&quot;rose&quot;</span>);<br>        jack.next = rose; <span class="hljs-comment">// 将 rose 挂载到 jack</span><br><br>        <span class="hljs-type">Node</span> <span class="hljs-variable">lucy</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(<span class="hljs-string">&quot;lucy&quot;</span>);<br>        table[<span class="hljs-number">3</span>] = lucy;<br><br>        System.out.println(table);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 结点，存储数据，可以指向下一个结点，从而形成链表</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span> &#123;<br>    Object item; <span class="hljs-comment">// 存放数据</span><br>    Node next; <span class="hljs-comment">// 指向下一个结点</span><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Node</span><span class="hljs-params">(Object item)</span> &#123;<br>        <span class="hljs-built_in">this</span>.item = item;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>HashSet 添加元素机制 (<code>hash() + equals()</code>)</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1fh411y7R8?p=522">HashSet 添加元素源码解读</a></p>
</blockquote>
<ol>
<li><code>HashSe</code> 底层是 <code>HashMap</code></li>
<li>添加一个元素时，先得到 <code>hash 值</code>- 会转成 -&gt; <code>索引值</code></li>
<li>找到存储数据表 <code>table</code>，看这个索引位置是否已经存放的有元素</li>
<li>如果没有，直接加入</li>
<li>如果有，调用 <code>equals</code> 比较，如果相同，就放弃添加，如果不相同，则添加到最后</li>
<li>在 Java8 中，如果一条链表的元素个数 <code>&gt;= TREEIFY_THRESHOLD(默认是8)</code>，并且 <code>table</code> 的大小 &gt;&#x3D; <code>MIN_TREEIFY_CAPACITY(默认64)</code> 就会进行树化（红黑树）</li>
</ol>
</li>
<li><p>HashSet 扩容机制</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1fh411y7R8?p=524">HashSet 扩容机制源码解读</a></p>
</blockquote>
<ol>
<li><code>HashSet</code> 底层是 <code>HashMap</code>，第一次添加时，<code>table</code> 数组扩容到 16，<code>临界值 (threshold) = 16 * 加载因子 (loadFactor)(0.75) = 12</code></li>
<li>如果 <code>table</code> 数组使用到了临界值 12，就会扩容到 <code>16*2=32</code>，新的临界值就是 <code>32*0.75=24</code>，依次类推</li>
<li>在 Java8 中，如果一条链表的元素个数到达 <code>TREEIFY THRESHOLD(默认是8)</code>，并且 <code>table</code> 的大小 &gt;&#x3D; <code>MIN TREEIFY CAPACITY(默认64)</code>，就会进行树化（红黑树），否则仍然采用数组扩容机制</li>
<li><code>size</code> 的大小为所有结点的个数，不是 <code>table</code> 数组的元素个数</li>
</ol>
</li>
<li><p>HashSet 练习 1</p>
<ul>
<li><p>定义一个 <code>Employee</code> 类，该类包含：<code>private</code> 成员属性 <code>name, age</code> 要求：</p>
<ol>
<li>创建 3 个 <code>Employee</code> 放入 <code>HashSet</code> 中</li>
<li>当 <code>name</code> 和 <code>age</code> 的值相同时，认为是相同员工，不能添动加到 <code>HashSet</code> 集合中</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HashSetExercise01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">HashSet</span> <span class="hljs-variable">hashSet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>();<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        * 先比较 hash 值，得出索引</span><br><span class="hljs-comment">        * 如果该位置上没有其他元素，则直接存放</span><br><span class="hljs-comment">        * 如果该位置上有元素，则需进行 equals() 判断</span><br><span class="hljs-comment">        */</span><br>        hashSet.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;jack&quot;</span>, <span class="hljs-number">25</span>));<br>        hashSet.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;jack&quot;</span>, <span class="hljs-number">25</span>));<br>        hashSet.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;mary&quot;</span>, <span class="hljs-number">25</span>));<br><br>        <span class="hljs-keyword">for</span> (Object object : hashSet) &#123;<br>            System.out.println(object);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">prime</span> <span class="hljs-operator">=</span> <span class="hljs-number">31</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>        result = prime * result + age;<br>        result = prime * result + ((name == <span class="hljs-literal">null</span>) ? <span class="hljs-number">0</span> : name.hashCode());<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == obj) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span> (obj == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (getClass() != obj.getClass()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">other</span> <span class="hljs-operator">=</span> (Student) obj;<br>        <span class="hljs-keyword">if</span> (age != other.age) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (name == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">if</span> (other.name != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!name.equals(other.name)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Student [age=&quot;</span> + age + <span class="hljs-string">&quot;, name=&quot;</span> + name + <span class="hljs-string">&quot;]&quot;</span>;<br>    &#125; <br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>HashSet 练习 2</p>
<ul>
<li><p>定义一个 <code>Employee</code> 类，该类包含：<code>private</code> 成员属性 <code>name, sal, birthday(MyDate类型)</code>，其中 <code>birthday</code> 为 <code>MyDate</code> 类型（属性包括：<code>year, month, day</code>），要求：</p>
<ol>
<li>创建 3 个 <code>Employee</code> 放入 <code>HashSet</code> 中</li>
<li>当 <code>name</code> 和 <code>birthday</code> 的值相同时，认为是相同员工，不能添加到 <code>HashSet</code> 集合中</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HashSetExercise02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">HashSet</span> <span class="hljs-variable">hashSet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>();<br><br>        hashSet.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;jack&quot;</span>, <span class="hljs-number">2000</span>,<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDate</span>(<span class="hljs-number">2000</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>)));<br>        hashSet.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;jack&quot;</span>, <span class="hljs-number">3000</span>,<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDate</span>(<span class="hljs-number">2000</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>)));<br>        hashSet.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;mary&quot;</span>, <span class="hljs-number">5000</span>,<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDate</span>(<span class="hljs-number">1999</span>, <span class="hljs-number">11</span>, <span class="hljs-number">11</span>)));<br><br>        <span class="hljs-keyword">for</span> (Object object : hashSet) &#123;<br>            System.out.println(object);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> sal;<br>    <span class="hljs-keyword">private</span> MyDate birthday;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Employee</span><span class="hljs-params">(String name, <span class="hljs-type">double</span> sal, MyDate birthday)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.sal = sal;<br>        <span class="hljs-built_in">this</span>.birthday = birthday;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">prime</span> <span class="hljs-operator">=</span> <span class="hljs-number">31</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>        result = prime * result + ((birthday == <span class="hljs-literal">null</span>) ? <span class="hljs-number">0</span> : birthday.hashCode());<br>        result = prime * result + ((name == <span class="hljs-literal">null</span>) ? <span class="hljs-number">0</span> : name.hashCode());<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == obj) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span> (obj == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (getClass() != obj.getClass()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-type">Employee</span> <span class="hljs-variable">other</span> <span class="hljs-operator">=</span> (Employee) obj;<br>        <span class="hljs-keyword">if</span> (birthday == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">if</span> (other.birthday != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!birthday.equals(other.birthday)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (name == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">if</span> (other.name != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!name.equals(other.name)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Employee [name=&quot;</span> + name + <span class="hljs-string">&quot;, sal=&quot;</span> + sal + <span class="hljs-string">&quot;, birthday=&quot;</span> + birthday + <span class="hljs-string">&quot;]&quot;</span>;<br>    &#125;<br><br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDate</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> year;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> month;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> day;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyDate</span><span class="hljs-params">(<span class="hljs-type">int</span> year, <span class="hljs-type">int</span> month, <span class="hljs-type">int</span> day)</span> &#123;<br>        <span class="hljs-built_in">this</span>.year = year;<br>        <span class="hljs-built_in">this</span>.month = month;<br>        <span class="hljs-built_in">this</span>.day = day;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getYear</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> year;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getMonth</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> month;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getDay</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> day;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">prime</span> <span class="hljs-operator">=</span> <span class="hljs-number">31</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>        result = prime * result + day;<br>        result = prime * result + month;<br>        result = prime * result + year;<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> year + <span class="hljs-string">&quot;年&quot;</span> + month + <span class="hljs-string">&quot;月&quot;</span> + day + <span class="hljs-string">&quot;日&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == obj) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span> (obj == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (getClass() != obj.getClass()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-type">MyDate</span> <span class="hljs-variable">other</span> <span class="hljs-operator">=</span> (MyDate) obj;<br>        <span class="hljs-keyword">if</span> (day != other.day) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (month != other.month) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (year != other.year) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h5 id="LinkedHashSet"><a href="#LinkedHashSet" class="headerlink" title="LinkedHashSet"></a>LinkedHashSet</h5><ul>
<li><p>LinkedHashSet 说明</p>
<ol>
<li><code>LinkedHashSet</code> 是 <code>HashSet</code> 的子类</li>
<li><code>LinkedHashSet</code> 底层是一个 <code>LinkedHashMap</code>，底层维护了一个<strong>数组 + 双向链表</strong></li>
<li><code>LinkedHashSet</code> 根据元素的 <code>hashCode</code> 值来决定元素的存储位置，同时使用链表维护元素的<strong>次序</strong>，这使得元素看起来是以插入顺序保存的，实际上是根据链表的顺序来排序</li>
<li><code>LinkedHashSet</code> 不允许添重复元素</li>
</ol>
</li>
<li><p>LinkedHashSet 底层机制</p>
<ol>
<li><p>在 <code>LinkedHashSet</code> 中维护了一个 <code>hash</code> 表和双向链表 (<code>LinkedHashSet</code> 有 <code>head</code> 和 <code>tail</code>)</p>
</li>
<li><p>每一个节点有 <code>pre</code> 和 <code>next</code> 属性，这样可以形成双向链表</p>
</li>
<li><p>在添加一个元素时，先求 <code>hash</code> 值，在求索引，确定该元素在 <code>hashtable</code> 的位置，然后将添加的元素加入到双向链表（如果已经存在，不添加（原则和 <code>HashSet</code> 相同））</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">tail.next = newElement; <span class="hljs-comment">//简单指定</span><br>newElement.pre = tail;<br>tail = newElement;<br></code></pre></td></tr></table></figure>
</li>
<li><p>这样的话，我们遍历 <code>LinkedHashSet</code> 也能确保插入顺序和遍历顺序一致</p>
</li>
<li><p>LinkedHashSet 底层机制图<br> <img src="/img/java_learn/mk-2022-06-09-16-33.png" srcset="/img/loading.gif" lazyload alt="LinkedHashSet 底层机制图"></p>
</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * 分析 LinkedHashSet 的底层机制</span><br><span class="hljs-comment"> * 1. LinkedHashSet 加入顺序和取出顺序一致</span><br><span class="hljs-comment"> * 2. LinkedHashSet 底层维护的是 LinkedHashMap</span><br><span class="hljs-comment"> * 3. LinkedHashSet 底层结构 （数组 + 双向链表）</span><br><span class="hljs-comment"> * 4. 添加第一次时，直接将 数组 table 扩容到 16</span><br><span class="hljs-comment"> * 5. 数组 table 是 HashMap$Node[]，存放的数据/对象是 LinkedHashMap$Entry</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@SuppressWarnings(&#123; &quot;all&quot; &#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedHashSetSource</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">LinkedHashSet</span> <span class="hljs-variable">set</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedHashSet</span>();<br>        set.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;AA&quot;</span>));<br>        set.add(<span class="hljs-number">456</span>);<br>        set.add(<span class="hljs-number">456</span>);<br>        set.add(<span class="hljs-string">&quot;HI&quot;</span>);<br><br>        System.out.println(<span class="hljs-string">&quot;set = &quot;</span> + set);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>LinkedHashSet 练习</p>
<ul>
<li>Car 类（属性：name, price），如果 name 与 price 相同，则认为是相同元素，不能添加</li>
</ul>
<h5 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h5><ul>
<li><p>TreeSet 自定义排序</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeSet_</span> &#123;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    * 1. 当使用无参构造器创建 TreeSet 对象时，仍然是无序的</span><br><span class="hljs-comment">    * 2. 使用 TreeSet 提供的构造器，可以传入一个比较器（匿名内部类），指定排序规则</span><br><span class="hljs-comment">    * 3. 比较器的 compare() 方法返回 int 类型，如果 &gt; 0 排在前，&lt; 0 排在后，= 0 则当做相同数据替换</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// TreeSet treeSet = new TreeSet();</span><br>        <span class="hljs-type">TreeSet</span> <span class="hljs-variable">treeSet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeSet</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Object o1, Object o2)</span> &#123;<br>                <span class="hljs-comment">// 使用字符串大小排序</span><br>                <span class="hljs-keyword">return</span> ((String) o1).compareTo((String) o2);<br>                <span class="hljs-comment">// 使用字符串长度排序</span><br>                <span class="hljs-comment">// return ((String)o1).length() - ((String)o2).length();</span><br><br>            &#125;<br>        &#125;);<br>        <span class="hljs-comment">// 添加数据</span><br>        treeSet.add(<span class="hljs-string">&quot;jack&quot;</span>);<br>        treeSet.add(<span class="hljs-string">&quot;tom&quot;</span>);<br>        treeSet.add(<span class="hljs-string">&quot;ss&quot;</span>);<br>        treeSet.add(<span class="hljs-string">&quot;a&quot;</span>);<br><br>        System.out.println(treeSet);<br><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        * 比较器底层源码：</span><br><span class="hljs-comment">            int cmp;</span><br><span class="hljs-comment">            Entry&lt;K,V&gt; parent;</span><br><span class="hljs-comment">            Comparator&lt;? super K&gt; cpr = comparator;</span><br><span class="hljs-comment">            if (cpr != null) &#123;</span><br><span class="hljs-comment">                do &#123;</span><br><span class="hljs-comment">                    parent = t;</span><br><span class="hljs-comment">                    cmp = cpr.compare(key, t.key); // 动态绑定重写的 compare() 方法</span><br><span class="hljs-comment">                    if (cmp &lt; 0)</span><br><span class="hljs-comment">                        t = t.left;</span><br><span class="hljs-comment">                    else if (cmp &gt; 0)</span><br><span class="hljs-comment">                        t = t.right;</span><br><span class="hljs-comment">                    else &#123;</span><br><span class="hljs-comment">                        V oldValue = t.value;</span><br><span class="hljs-comment">                        if (replaceOld || oldValue == null) &#123;</span><br><span class="hljs-comment">                            t.value = value;</span><br><span class="hljs-comment">                        &#125;</span><br><span class="hljs-comment">                        return oldValue;</span><br><span class="hljs-comment">                    &#125;</span><br><span class="hljs-comment">                &#125; while (t != null);</span><br><span class="hljs-comment">        */</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><ol>
<li><p>Map 接口实现类的特点(JDK8)【实用】</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1fh411y7R8?p=532">Map接口特点</a></p>
</blockquote>
<ol>
<li><code>Map</code> 与 <code>Collection</code> 并列存在。用于保存具有映射关系的数据：<code>Key-Value</code>(双列元素)</li>
<li><code>Map</code> 中的 <code>key</code> 和 <code>value</code> 可以是任何引用类型数据，会封装到 <code>HashMap$Node</code> 对象中</li>
<li><code>Map</code> 中的 <code>key</code> 不允许重复，原因和 <code>HashSet</code> 一样，当有相同的 <code>key</code> 时，等价于替换</li>
<li><code>Map</code> 中的 <code>value</code> 可以重复</li>
<li><code>Map</code> 的 <code>key</code> 可以为 <code>null</code>，<code>value</code> 也可以为 <code>null</code>。注意 <code>key</code> 为 <code>null</code> 只能有一个，<code>value</code> 为 <code>null</code>，可以有多个</li>
<li>常用 <code>String</code> 类作为 <code>Map</code> 的 <code>key</code></li>
<li><code>key</code> 和 <code>value</code> 之间存在单向一对一关系，即通过指定的 <code>key</code> 总能找到对应的 <code>value</code></li>
<li><code>Map</code> 存放数据的 <code>key-value</code> 示意图，一对 <code>k-v</code> 是放在一个 <code>HashMap$Node</code> 中的，又因为 <code>Node</code> 实现了 <code>Entry</code> 接口，有些书上也说一对 <code>k-v</code> 就是一个 <code>Entry（如图）</code><br><img src="/img/java_learn/mk-2022-06-06-10-40.png" srcset="/img/loading.gif" lazyload alt="key-value示意图"></li>
</ol>
</li>
<li><p>Map 接口常用方法</p>
<ol>
<li><code>put</code>: 添加</li>
<li><code>remove</code>: 根据键删除映射关系</li>
<li><code>get</code>: 根据键获取值，返回对应 <code>value</code></li>
<li><code>size</code>: 获取元素个数</li>
<li><code>isEmpty</code>: 判断是否为空</li>
<li><code>clear</code>: 清除</li>
<li><code>containsKey</code>: 查找键是否存在</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapMethod</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Map</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>();<br><br>        <span class="hljs-comment">// 1. put: 添加</span><br>        <span class="hljs-comment">// Map.put(Object key, Object value) : Object</span><br>        map.put(<span class="hljs-string">&quot;邓超&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-number">100</span>));<br>        map.put(<span class="hljs-string">&quot;邓超&quot;</span>, <span class="hljs-string">&quot;孙俪&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;王宝强&quot;</span>, <span class="hljs-string">&quot;马蓉&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;宋喆&quot;</span>, <span class="hljs-string">&quot;马蓉&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;刘令博&quot;</span>, <span class="hljs-literal">null</span>);<br>        map.put(<span class="hljs-literal">null</span>, <span class="hljs-string">&quot;刘亦菲&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;鹿晗&quot;</span>, <span class="hljs-string">&quot;关晓彤&quot;</span>);<br><br>        System.out.println(<span class="hljs-string">&quot;map = &quot;</span> + map);<br><br>        <span class="hljs-comment">// 2. remove: 根据键删除映射关系</span><br>        <span class="hljs-comment">// Map.remove(Object key) : Object</span><br>        <span class="hljs-comment">// Map.remove(Object key, Object value) : boolean</span><br>        map.remove(<span class="hljs-literal">null</span>);<br>        System.out.println(<span class="hljs-string">&quot;map = &quot;</span> + map);<br><br>        <span class="hljs-comment">// 3. get: 根据键获取值，返回对应 value</span><br>        <span class="hljs-comment">// Map.get(Object key) : Object</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">val</span> <span class="hljs-operator">=</span> map.get(<span class="hljs-string">&quot;鹿晗&quot;</span>);<br>        System.out.println(val);<br><br>        <span class="hljs-comment">// 4. size: 获取元素个数</span><br>        <span class="hljs-comment">// Map.size() : int</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> map.size();<br>        System.out.println(<span class="hljs-string">&quot;size =&quot;</span> + size);<br><br>        <span class="hljs-comment">// 5. isEmpty: 判断是否为空</span><br>        <span class="hljs-comment">// Map.isEmpty() : boolean</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">empty</span> <span class="hljs-operator">=</span> map.isEmpty();<br>        System.out.println(<span class="hljs-string">&quot;empty = &quot;</span> + empty);<br><br>        <span class="hljs-comment">// 6. clear: 清除</span><br>        <span class="hljs-comment">// Map.clear() : void</span><br>        map.clear();<br>        System.out.println(<span class="hljs-string">&quot;map = &quot;</span> + map);<br><br>        <span class="hljs-comment">// 7. containsKey: 查找键是否存在</span><br>        <span class="hljs-comment">// Map.containsKey(Object key) : boolean</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">containsKey</span> <span class="hljs-operator">=</span> map.containsKey(<span class="hljs-string">&quot;王宝强&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;containsKey = &quot;</span> + containsKey);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Book</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> num;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Book</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> num)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.num = num;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>Map 接口遍历方法</p>
<ol>
<li><code>containsKey</code>: 查找键是否存在</li>
<li><code>keySet</code>: 获取所有键</li>
<li><code>entrySet</code>: 获取所有关系，返回 <code>Set</code></li>
<li><code>values</code>: 获取所有的值</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapFor</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Map</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>();<br>        map.put(<span class="hljs-string">&quot;邓超&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-number">100</span>));<br>        map.put(<span class="hljs-string">&quot;邓超&quot;</span>, <span class="hljs-string">&quot;孙俪&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;王宝强&quot;</span>, <span class="hljs-string">&quot;马蓉&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;宋喆&quot;</span>, <span class="hljs-string">&quot;马蓉&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;刘令博&quot;</span>, <span class="hljs-literal">null</span>);<br>        map.put(<span class="hljs-literal">null</span>, <span class="hljs-string">&quot;刘亦菲&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;鹿晗&quot;</span>, <span class="hljs-string">&quot;关晓彤&quot;</span>);<br><br>        <span class="hljs-comment">// 第一组</span><br>        <span class="hljs-comment">// 先取出所有的 key，通过 key 取出对应的 value</span><br>        <span class="hljs-comment">// 有两种遍历方式</span><br>        <span class="hljs-type">Set</span> <span class="hljs-variable">keySet</span> <span class="hljs-operator">=</span> map.keySet();<br>        <span class="hljs-comment">// (1) 增强 for</span><br>        System.out.println(<span class="hljs-string">&quot;====1.1 增强 for====&quot;</span>);<br>        <span class="hljs-keyword">for</span> (Object key : keySet) &#123;<br>            System.out.println(key + <span class="hljs-string">&quot;-&quot;</span> + map.get(key));<br>        &#125;<br>        <span class="hljs-comment">// (2) 迭代器</span><br>        System.out.println(<span class="hljs-string">&quot;\n====1.2 迭代器====&quot;</span>);<br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it1</span> <span class="hljs-operator">=</span> keySet.iterator();<br>        <span class="hljs-keyword">while</span> (it1.hasNext()) &#123;<br>            <span class="hljs-type">Object</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> it1.next();<br>            System.out.println(key + <span class="hljs-string">&quot;-&quot;</span> + map.get(key));<br>        &#125;<br><br>        <span class="hljs-comment">// 第二组</span><br>        <span class="hljs-comment">// 把所有的 value 取出，无法获得 key</span><br>        <span class="hljs-comment">// 有两种遍历方式</span><br>        <span class="hljs-type">Collection</span> <span class="hljs-variable">values</span> <span class="hljs-operator">=</span> map.values();<br>        <span class="hljs-comment">// (1) 增强 for</span><br>        System.out.println(<span class="hljs-string">&quot;\n====2.1 增强 for====&quot;</span>);<br>        <span class="hljs-keyword">for</span> (Object object : values) &#123;<br>            System.out.println(object);<br>        &#125;<br>        <span class="hljs-comment">// (2) 迭代器</span><br>        System.out.println(<span class="hljs-string">&quot;\n====2.2 迭代器====&quot;</span>);<br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it2</span> <span class="hljs-operator">=</span> values.iterator();<br>        <span class="hljs-keyword">while</span> (it2.hasNext()) &#123;<br>            System.out.println(it2.next());<br>        &#125;<br><br>        <span class="hljs-comment">// 第三组</span><br>        <span class="hljs-comment">// 通过 EntrySet 来获取 key-value</span><br>        <span class="hljs-type">Set</span> <span class="hljs-variable">entrySet</span> <span class="hljs-operator">=</span> map.entrySet(); <span class="hljs-comment">// Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet();</span><br>        <span class="hljs-comment">// (1) 增强 for</span><br>        System.out.println(<span class="hljs-string">&quot;====3.1 EntrySet 的 增强 for====&quot;</span>);<br>        <span class="hljs-keyword">for</span> (Object entry : entrySet) &#123;<br>            <span class="hljs-comment">// 将 entry 转成 Map.Entry</span><br>            Map.<span class="hljs-type">Entry</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> (Map.Entry) entry;<br>            <span class="hljs-comment">// 使用 Map.Entry 提供的 getKey() 和 getValue() 方法</span><br>            System.out.println(m.getKey() + <span class="hljs-string">&quot;-&quot;</span> + m.getValue());<br>        &#125;<br>        <span class="hljs-comment">// (2) 迭代器</span><br>        System.out.println(<span class="hljs-string">&quot;====3.2 EntrySet 的迭代器====&quot;</span>);<br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it3</span> <span class="hljs-operator">=</span> entrySet.iterator();<br>        <span class="hljs-keyword">while</span> (it3.hasNext()) &#123;<br>            <span class="hljs-type">Object</span> <span class="hljs-variable">entry</span> <span class="hljs-operator">=</span> it3.next(); <span class="hljs-comment">// 运行类型 HashMap$Node 实现了 Map.Entry</span><br>            <span class="hljs-comment">// 向下转型 Map.Entry</span><br>            Map.<span class="hljs-type">Entry</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> (Map.Entry) entry;<br>            <span class="hljs-comment">// 使用 Map.Entry 提供的 getKey() 和 getValue() 方法</span><br>            System.out.println(m.getKey() + <span class="hljs-string">&quot;-&quot;</span> + m.getValue());<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>Map 接口练习<br> 使用 <code>HashMap</code> 添加 3 个员工对象，要求：<br> 键：<code>员工id</code><br> 值：<code>员工对象</code><br> 并遍历显示 <code>工资 &gt; 18000</code> 的员工（遍历方式最少两种）<br> 员工类：<code>姓名、工资、员工id</code></p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapExercise</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 添加 3 个员工对象</span><br>        <span class="hljs-type">Employee</span> <span class="hljs-variable">jack</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;Jack&quot;</span>, <span class="hljs-number">19000</span>, <span class="hljs-string">&quot;011&quot;</span>);<br>        <span class="hljs-type">Employee</span> <span class="hljs-variable">tom</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;Tom&quot;</span>, <span class="hljs-number">10000</span>, <span class="hljs-string">&quot;021&quot;</span>);<br>        <span class="hljs-type">Employee</span> <span class="hljs-variable">mary</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;Mary&quot;</span>, <span class="hljs-number">20000</span>, <span class="hljs-string">&quot;031&quot;</span>);<br><br>        <span class="hljs-type">Map</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>();<br>        <span class="hljs-comment">// 添加 key-value</span><br>        map.put(jack.getId(), jack);<br>        map.put(tom.getId(), tom);<br>        map.put(mary.getId(), mary);<br><br>        <span class="hljs-comment">// 1. 使用 keySet()</span><br>        <span class="hljs-type">Set</span> <span class="hljs-variable">keySet</span> <span class="hljs-operator">=</span> map.keySet();<br>        System.out.println(<span class="hljs-string">&quot;====迭代器====&quot;</span>);<br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> keySet.iterator();<br>        <span class="hljs-keyword">while</span> (it.hasNext()) &#123;<br>            <span class="hljs-type">Object</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> it.next();<br>            <span class="hljs-type">double</span> <span class="hljs-variable">sal</span> <span class="hljs-operator">=</span> ((Employee) (map.get(next))).getSal();<br>            <span class="hljs-keyword">if</span> (sal &gt; <span class="hljs-number">18000</span>) &#123;<br>                System.out.println(next + <span class="hljs-string">&quot;-&quot;</span> + map.get(next));<br>            &#125;<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;\n====增强 for====&quot;</span>);<br>        <span class="hljs-keyword">for</span> (Object key : keySet) &#123;<br>            <span class="hljs-type">double</span> <span class="hljs-variable">sal</span> <span class="hljs-operator">=</span> ((Employee) (map.get(key))).getSal();<br>            <span class="hljs-keyword">if</span> (sal &gt; <span class="hljs-number">18000</span>) &#123;<br>                System.out.println(key + <span class="hljs-string">&quot;-&quot;</span> + map.get(key));<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">// 2. 使用 entrySet()</span><br>        System.out.println(<span class="hljs-string">&quot;\n====entrySet()====&quot;</span>);<br>        <span class="hljs-type">Set</span> <span class="hljs-variable">entrySet</span> <span class="hljs-operator">=</span> map.entrySet();<br>        <span class="hljs-keyword">for</span> (Object entry : entrySet) &#123;<br>            Map.<span class="hljs-type">Entry</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> (Map.Entry) entry; <span class="hljs-comment">// 运行类型：HashMap$Node</span><br>            <span class="hljs-type">double</span> <span class="hljs-variable">sal</span> <span class="hljs-operator">=</span> ((Employee) (m.getValue())).getSal();<br>            <span class="hljs-keyword">if</span> (sal &gt; <span class="hljs-number">18000</span>) &#123;<br>                System.out.println(m.getKey() + <span class="hljs-string">&quot;-&quot;</span> + m.getValue());<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> sal;<br>    <span class="hljs-keyword">private</span> String id;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Employee</span><span class="hljs-params">(String name, <span class="hljs-type">double</span> price, String id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.sal = price;<br>        <span class="hljs-built_in">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getSal</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> sal;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;[id=&quot;</span> + id + <span class="hljs-string">&quot;, name=&quot;</span> + name + <span class="hljs-string">&quot;, price=&quot;</span> + sal + <span class="hljs-string">&quot;]&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="HashMap（重点）"><a href="#HashMap（重点）" class="headerlink" title="HashMap（重点）"></a>HashMap（重点）</h4><ol>
<li><p>HashMap 特点</p>
<ol>
<li><code>Map</code> 接口的常用实现类：<code>HashMap</code>、<code>Hashtable</code> 和 <code>Properties</code></li>
<li><code>HashMap</code> 是 <code>Map</code> 接口使用频率最高的实现类</li>
<li><code>HashMap</code> 是以 <code>key-value</code> 对的方式来存储数据（<code>HashMap$Node</code> 类型）</li>
<li><code>key</code> 不能重复，但是 <code>value</code> 可以重复，允许使用 <code>null</code> 键和 <code>null</code> 值</li>
<li>如果添加相同的 <code>key</code>，则会覆盖原来的 <code>key-value</code>，等同于修改（<code>key</code> 不会被替换，<code>value</code> 会被替换）</li>
<li>与 <code>HashSet</code> 一样，不保证映射的顺序，因为底层是以 <code>hash</code> 表的方式来存储的（JDK8 的 <code>HashMap</code> 底层：<code>数组 + 链表 + 红黑树</code>）</li>
<li><code>HashMap</code> 没有实现同步，因此线程是不安全的，方法没有做同步互斥的操作，没有 <code>synchronized</code> 关键字</li>
</ol>
</li>
<li><p>HashMap 底层机制及源码分析</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1fh411y7R8?p=538">底层源码机制</a></p>
</blockquote>
<ul>
<li>示意图：<br>  <img src="/img/java_learn/mk-2022-06-06-21-09.png" srcset="/img/loading.gif" lazyload alt="HashMap 底层机制示意图"><ol>
<li><code>(k, v)</code> 是一个 <code>Node</code> 实现了 <code>Map.Entry&lt;K, V&gt;</code>，查看 <code>HashMap</code> 的源码可以看到</li>
<li>JDK7 的 <code>HashMap</code> 底层实现：<code>数组 + 链表</code>，JDK8 的 <code>HashMap</code> 底层实现：<code>数组 + 链表 + 红黑树</code></li>
</ol>
</li>
<li>底层机制及源码分析<ol>
<li><code>HashMap</code> 底层维护了 <code>Node</code> 类型的数组 <code>table</code>，默认为 <code>null</code></li>
<li>当创建对象时，将加载因子 <code>(loadFactor)</code> 初始化为 0.75</li>
<li>当添加 <code>key-val</code> 时，通过 <code>key</code> 的哈希值得到在 <code>table</code> 的索引。然后判断该索引处是否有元素如果没有元素直接添加。如果该索引处有元素，继续判断该元素的 <code>key</code> 和准备加入的 <code>key</code> 是否相等，如果相等，则直接替换 <code>val</code>；如果不相等需要判断是树结构还是链表结构，做出相应处理。如果添加时发现容量不够，则需要扩容（<code>resize()</code> 方法）</li>
<li>第 1 次添加，需要扩容 <code>table</code> 容量为 16，临界值 <code>threshold</code> 为 12（<code>16 * 0.75[加载因子 loadFactor]</code>）</li>
<li>以后再扩容，则需要扩容 <code>table</code> 容量为原来的 2 倍（32），临界值为原来的 2 倍，即 24，依此类推</li>
<li>在 Java8 中，如果一条链表的元素个数超过 <code>TREEIFY_THRESHOLD(默认是8)</code>，并且 <code>table</code> 的大小 <code>&gt;= MIN_TREEIFY_CAPACITY(默认64)</code>，就会进行树化（红黑树）</li>
</ol>
</li>
</ul>
</li>
</ol>
<h4 id="Hashtable"><a href="#Hashtable" class="headerlink" title="Hashtable"></a>Hashtable</h4><ol>
<li><p>Hashtable 基本介绍</p>
<ol>
<li>存放的元素是键值对：即 <code>k-v</code></li>
<li><code>Hashtable</code> 的<strong>键和值</strong>都不能为 <code>null</code> ,否则会抛出 <code>NullPointerException</code></li>
<li><code>Hashtable</code> 使用方法基本上和 <code>HashMap</code> 一样</li>
<li><code>Hashtable</code> 是<strong>线程安全</strong>的(<code>synchronized</code>)，<code>HashMap</code> 是线程不安全的</li>
<li>底层结构<ol>
<li>底层有数组 <code>Hashtable$Entry[] table</code>，初始化大小为 11</li>
<li>临界值 <code>threshold 8 = 11 * 0.75</code></li>
<li>扩容机制：<ol>
<li>执行方法 <code>addEntry(hash, key, value, index);</code> 添加 <code>k-v</code> 封装到 <code>Entry[]</code></li>
<li>当 <code>if (count &gt;= threshold)</code> 满足时，就进行扩容 <code>rehash()</code></li>
<li>扩容方法：<code>int newCapacity = (oldCapacity &lt;&lt; 1) + 1;</code> （容量 * 2 + 1）</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>Hashtable 与 HashMap 对比</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">版本</th>
<th align="left">线程安全（同步）</th>
<th align="left">效率</th>
<th align="left">允许 null 键 null 值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">HashMap</td>
<td align="left">JDK 1.2</td>
<td align="left">不安全</td>
<td align="left">高</td>
<td align="left">可以</td>
</tr>
<tr>
<td align="left">Hashtable</td>
<td align="left">JDK 1.0</td>
<td align="left">安全</td>
<td align="left">较低</td>
<td align="left">不可以</td>
</tr>
</tbody></table>
</li>
</ol>
<h4 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h4><ol>
<li><p>Properties 基本介绍</p>
<ol>
<li><code>Properties</code> 类继承 <code>Hashtable</code> 类，并且实现了 <code>Map</code> 接口，也是使用一种<strong>键值对</strong>的形式来保存数据</li>
<li><code>Properties</code> 的使用特点和 <code>Hashtable</code> 类似</li>
<li><code>Properties</code> 还可以用于从 <code>xxx.properties</code> 文件中，加载数据到 <code>Properties</code> 类对象，并进行读取和修改</li>
<li>说明：工作后 <code>xxx.properties</code> 文件通常作为配置文件</li>
</ol>
</li>
<li><p>Properties 案例演示</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Properties_</span> &#123;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    * 1. Properties 继承 Hashtable</span><br><span class="hljs-comment">    * 2. 可以通过 k-v 存货数据，key 和 value 不能为 null</span><br><span class="hljs-comment">    * 3. 如果有相同的 key，value 会被替换</span><br><span class="hljs-comment">    * 4. </span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Properties</span> <span class="hljs-variable">properties</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>();<br><br>        <span class="hljs-comment">// 增加</span><br>        properties.put(<span class="hljs-string">&quot;john&quot;</span>, <span class="hljs-number">100</span>);<br>        <span class="hljs-comment">// properties.put(null, 100); // NullPointerException</span><br>        properties.put(<span class="hljs-string">&quot;john&quot;</span>, <span class="hljs-number">100</span>);<br>        properties.put(<span class="hljs-string">&quot;lucy&quot;</span>, <span class="hljs-string">&quot;北京&quot;</span>);<br>        properties.put(<span class="hljs-string">&quot;lic&quot;</span>, <span class="hljs-number">100</span>);<br>        properties.put(<span class="hljs-string">&quot;lic&quot;</span>, <span class="hljs-number">88</span>);<br><br>        System.out.println(properties);<br><br>        <span class="hljs-comment">// 删除</span><br>        properties.remove(<span class="hljs-string">&quot;lic&quot;</span>);<br><br>        <span class="hljs-comment">// 更改</span><br>        properties.put(<span class="hljs-string">&quot;john&quot;</span>, <span class="hljs-number">200</span>);<br><br>        <span class="hljs-comment">// 查找</span><br>        <span class="hljs-comment">// 通过 key 获取对应的值</span><br>        System.out.println(properties.get(<span class="hljs-string">&quot;john&quot;</span>));<br>        System.out.println(properties.getProperty(<span class="hljs-string">&quot;lucy&quot;</span>));<br><br>        System.out.println(properties);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="LinkedHashMap"><a href="#LinkedHashMap" class="headerlink" title="LinkedHashMap"></a>LinkedHashMap</h4><p>LinkedHashMap 介绍</p>
<ol>
<li><code>LinkedHashMap</code> 插入和取出顺序一致</li>
<li><code>LinkedHashMap</code> 是无序的</li>
<li><code>LinkedHashMap</code> 是 <code>HashMap</code> 的子类</li>
<li><code>LinkedHashMap</code> 不允许重复数据</li>
</ol>
<h4 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a>TreeMap</h4><ul>
<li>TreeMap 分析</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeMap_</span> &#123;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">     * 1. 使用默认的构造器，创建 TreeMap 对象</span><br><span class="hljs-comment">     * 如果 key 为 String 类型默认使用 compareTo() 排序</span><br><span class="hljs-comment">     * 2. 可以使用 Comparator 比较器（匿名内部类）进行自定义排序</span><br><span class="hljs-comment">     * 自定义排序使用方法同 TreeSet</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// TreeMap treeMap = new TreeMap();</span><br>        <span class="hljs-type">TreeMap</span> <span class="hljs-variable">treeMap</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>() &#123;<br><br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Object o1, Object o2)</span> &#123;<br>                <span class="hljs-keyword">return</span> ((String)o1).length() - ((String)o2).length();<br>            &#125;<br>        &#125;);<br><br>        treeMap.put(<span class="hljs-string">&quot;Jack&quot;</span>, <span class="hljs-string">&quot;杰克&quot;</span>);<br>        treeMap.put(<span class="hljs-string">&quot;Tom&quot;</span>, <span class="hljs-string">&quot;汤姆&quot;</span>);<br>        treeMap.put(<span class="hljs-string">&quot;Smith&quot;</span>, <span class="hljs-string">&quot;史密斯&quot;</span>);<br>        treeMap.put(<span class="hljs-string">&quot;Kristina&quot;</span>, <span class="hljs-string">&quot;克瑞斯提娜&quot;</span>);<br><br>        System.out.println(treeMap);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>TreeMap 源码解读</li>
</ul>
<ol>
<li><p>构造器。把传入的实现了 <code>Comparator</code> 接口的匿名内部类（对象），传给 <code>TreeMap</code> 的 <code>comparator</code> 属性</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeMap</span><span class="hljs-params">(Comparator&lt;? <span class="hljs-built_in">super</span> K&gt; comparator)</span> &#123;<br>    <span class="hljs-built_in">this</span>.comparator = comparator;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>调用 <code>put()</code> 方法</p>
<ol>
<li><p>第一次添加，把 <code>k-v</code> 封装到 <code>Entry</code> 对象中，放入 <code>root</code></p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">Entry&lt;K,V&gt; t = root;<br><span class="hljs-keyword">if</span> (t == <span class="hljs-literal">null</span>) &#123;<br>    compare(key, key);<br>    root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Entry</span>&lt;&gt;(key, value, <span class="hljs-literal">null</span>);<br>    size = <span class="hljs-number">1</span>;<br>    modCount++;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>之后添加</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java">Comparator&lt;? <span class="hljs-built_in">super</span> K&gt; cpr = comparator;<br><span class="hljs-keyword">if</span> (cpr != <span class="hljs-literal">null</span>) &#123;<br>    <span class="hljs-keyword">do</span> &#123; <span class="hljs-comment">// 遍历所有的 key，给当前 key 找到适当的位置</span><br>        parent = t;<br>        <span class="hljs-comment">// 动态绑定匿名内部类中重写的 compare() 方法</span><br>        cmp = cpr.compare(key, t.key);<br>        <span class="hljs-keyword">if</span> (cmp &lt; <span class="hljs-number">0</span>)<br>            t = t.left;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cmp &gt; <span class="hljs-number">0</span>)<br>            t = t.right;<br>        <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// 如果遍历过程中发现准备添加的 key 和当前的 key 相等，则直接返回</span><br>            <span class="hljs-type">V</span> <span class="hljs-variable">oldValue</span> <span class="hljs-operator">=</span> t.value;<br>            <span class="hljs-keyword">if</span> (replaceOld || oldValue == <span class="hljs-literal">null</span>) &#123;<br>                t.value = value;<br>            &#125;<br>            <span class="hljs-keyword">return</span> oldValue;<br>        &#125;<br>    &#125; <span class="hljs-keyword">while</span> (t != <span class="hljs-literal">null</span>);<br>*/<br></code></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="Collections"><a href="#Collections" class="headerlink" title="Collections"></a>Collections</h3><ol>
<li><p>Collections 工具类介绍</p>
<ol>
<li><code>Collections</code> 是一个操作 <code>Set</code>、<code>List</code> 和 <code>Map</code> 等集合的工具类</li>
<li><code>Collections</code> 中提供了一系列<strong>静态</strong>的方法对集合元素进行<strong>排序、查询和修改</strong>等操作</li>
</ol>
</li>
<li><p>排序操作常用方法（均为 <code>static</code> 方法）</p>
<ol>
<li><code>reverse(List)</code>: 反转 <code>List</code> 中元素的顺序</li>
<li><code>shuffle(List)</code>: 对 <code>List</code> 集合元素进行随机排序</li>
<li><code>sort(List)</code>: 根据元素的自然顺序对指定 <code>List</code> 集合元素按升序排序</li>
<li><code>sort(List, Comparator)</code>: 根据指定的 <code>Comparator</code> 产生的顺序对 <code>List</code> 集合元素进行排序</li>
<li><code>swap(List, int,int)</code>: 将指定 <code>List</code> 集合中的 <code>i</code> 处元素和 <code>j</code> 处元素进行交换</li>
</ol>
</li>
<li><p>查找、替换相关方法</p>
<ol>
<li><code>Object max(Collection)</code>: 根据元素的自然顺序，返回给定集合中的最大元素</li>
<li><code>Object max(Collection, Comparator)</code>: 根据 <code>Comparator</code> 指定的顺序，返回给定集合中的最大元素</li>
<li><code>Object min(Collection)</code>: 根据元素的自然顺序，返回给定集合中的最小元素</li>
<li><code>Object min(Collection, Comparator)</code>: 根据 Comparator 指定的顺序，返回给定集合中的最小元素</li>
<li><code>int frequency(Collection, Object)</code>: 返回指定集合中指定元素的出现次数</li>
<li><code>void copy(List dest, List src)</code>: 将 <code>src</code> 中的内容复制到 <code>dest</code> 中</li>
<li><code>boolean replaceAll(List list, Object oldVal, Object newVal)</code>: 新值替换 <code>List</code> 对象的所有旧值</li>
</ol>
</li>
<li><p>案例演示</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Collections_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">List</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            list.add(i);<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;list：\n&quot;</span> + list);<br><br>        <span class="hljs-comment">// 1. 排序相关方法</span><br>        <span class="hljs-comment">// reverse(List): 反转 List 中元素的顺序</span><br>        Collections.reverse(list);<br>        System.out.println(<span class="hljs-string">&quot;反转：\n&quot;</span> + list);<br><br>        <span class="hljs-comment">// shuffle(List): 对 List 集合元素进行随机排序</span><br>        Collections.shuffle(list);<br>        System.out.println(<span class="hljs-string">&quot;随机排序：\n&quot;</span> + list);<br><br>        <span class="hljs-comment">// sort(List): 根据元素的自然顺序对指定 List 集合元素按升序排序</span><br>        Collections.sort(list);<br>        System.out.println(<span class="hljs-string">&quot;自然排序：\n&quot;</span> + list);<br><br>        list.clear(); <span class="hljs-comment">// 清除所有元素</span><br>        list.add(<span class="hljs-string">&quot;jack&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;smith&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;tom&quot;</span>);<br>        <span class="hljs-comment">// sort(List, Comparator): 根据指定的 Comparator 产生的顺序对 List 集合元素进行排序</span><br>        Collections.sort(list, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Object o1, Object o2)</span> &#123;<br>                <span class="hljs-comment">// 根据字符串长度排序</span><br>                <span class="hljs-keyword">if</span> (o1 <span class="hljs-keyword">instanceof</span> String &amp;&amp; o2 <span class="hljs-keyword">instanceof</span> String) &#123;<br>                    <span class="hljs-keyword">return</span> ((String) o1).length() - ((String) o2).length();<br>                &#125;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;);<br>        System.out.println(<span class="hljs-string">&quot;字符串长度排序：\n&quot;</span> + list);<br><br>        <span class="hljs-comment">// swap(List, int,int): 将指定 List 集合中的 i 处元素和 j 处元素进行交换</span><br>        Collections.swap(list, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// 索引为 1 和索引 8 交换</span><br>        System.out.println(<span class="hljs-string">&quot;交换元素：\n&quot;</span> + list);<br><br>        <span class="hljs-comment">// 2. 查找替换相关方法</span><br>        list.clear();<br>        <span class="hljs-type">Random</span> <span class="hljs-variable">random</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span>();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            list.add(random.nextInt(<span class="hljs-number">100</span>));<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;随机数组：\n&quot;</span> + list);<br><br>        <span class="hljs-comment">// Object max(Collection): 根据元素的自然顺序，返回给定集合中的最大元素</span><br>        System.out.println(<span class="hljs-string">&quot;查找最大元素：&quot;</span>);<br>        System.out.println(Collections.max(list));<br><br>        <span class="hljs-comment">// Object max(Collection, Comparator): 根据 Comparator 指定的顺序，返回给定集合中的最大元素</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">hashMax</span> <span class="hljs-operator">=</span> Collections.max(list, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Object o1, Object o2)</span> &#123;<br>                <span class="hljs-comment">// 根据 hashCode 排序</span><br>                <span class="hljs-keyword">return</span> o1.hashCode() - o2.hashCode();<br>            &#125;<br>        &#125;);<br>        System.out.println(<span class="hljs-string">&quot;hashCode 最大元素：&quot;</span>);<br>        System.out.println(hashMax);<br><br>        <span class="hljs-comment">// Object min(Collection): 根据元素的自然顺序，返回给定集合中的最小元素</span><br>        System.out.println(<span class="hljs-string">&quot;查找最小元素：&quot;</span>);<br>        System.out.println(Collections.min(list));<br><br>        <span class="hljs-comment">// Object min(Collection, Comparator): 根据 Comparator 指定的顺序，返回给定集合中的最小元素</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">hashMin</span> <span class="hljs-operator">=</span> Collections.min(list, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Object o1, Object o2)</span> &#123;<br>                <span class="hljs-comment">// 根据 hashCode 排序</span><br>                <span class="hljs-keyword">return</span> o1.hashCode() - o2.hashCode();<br>            &#125;<br>        &#125;);<br>        System.out.println(<span class="hljs-string">&quot;hashCode 最小元素：&quot;</span>);<br>        System.out.println(hashMin);<br><br>        <span class="hljs-comment">// void copy(List dest, List src): 将 src 中的内容复制到 dest 中</span><br>        <span class="hljs-type">List</span> <span class="hljs-variable">src</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        src.add(<span class="hljs-string">&quot;tom&quot;</span>);<br>        src.add(<span class="hljs-string">&quot;jack&quot;</span>);<br>        Collections.copy(list, src);<br>        System.out.println(<span class="hljs-string">&quot;打印原数组和复制的数组：&quot;</span>);<br>        System.out.println(list);<br>        System.out.println(src);<br><br>        <span class="hljs-comment">// boolean replaceAll(List list, Object oldVal, Object newVal): 新值替换 List</span><br>        <span class="hljs-comment">// 对象的所有旧值</span><br>        Collections.replaceAll(list, <span class="hljs-string">&quot;tom&quot;</span>, <span class="hljs-string">&quot;jack&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;替换后的数组：&quot;</span>);<br>        System.out.println(list);<br><br>        <span class="hljs-comment">// int frequency(Collection, Object): 返回指定集合中指定元素的出现次数</span><br>        System.out.println(<span class="hljs-string">&quot;jack 出现的次数：&quot;</span>);<br>        System.out.println(Collections.frequency(list, <span class="hljs-string">&quot;jack&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="总结-如何选择集合实现类（重点）"><a href="#总结-如何选择集合实现类（重点）" class="headerlink" title="总结-如何选择集合实现类（重点）"></a>总结-如何选择集合实现类（重点）</h3><p>在开发中，选择什么集合实现类，主要取决于业务操作特点，然后根据集合实现类特性进行选择，分析如下：</p>
<ol>
<li>先判断存储的类型（一组对象【单列】或一组键值对【双列】）</li>
<li>一组对象【单列】：<code>Collection</code> 接口<ul>
<li>允许重复：<code>List</code><ul>
<li>增删多：<code>LinkedList</code> （双向链表）</li>
<li>改查多：<code>ArrayList</code> （<code>Object[]</code> 数组）</li>
</ul>
</li>
<li>不允许重复：<code>Set</code><ul>
<li>无序：<code>HashSet</code> （哈希表【数组+链表+红黑树】）</li>
<li>排序：<code>TreeSet</code></li>
<li>插入和取出顺序一致：<code>LinkedHashSet</code> （数组+双向链表）</li>
</ul>
</li>
</ul>
</li>
<li>一组键值对【双列】：<code>Map</code><ul>
<li>键无序：<code>HashMap</code> （哈希表【JDK7：数组+链表；JDK8：数组+链表+红黑树】）</li>
<li>键排序：<code>TreeMap</code></li>
<li>键插入和取出顺序一致：<code>LinkedHashMap</code></li>
<li>读取文件：<code>Properties</code></li>
</ul>
</li>
</ol>
<h3 id="十三章作业"><a href="#十三章作业" class="headerlink" title="十三章作业"></a>十三章作业</h3><ol>
<li><p>字符串处理</p>
<ol>
<li>封装一个新闻类，包含标题和内容属性，提供 <code>get</code>、<code>set</code> 方法，重写 <code>toString</code> 方法，打印对象时只打印标题</li>
<li>只提供一个带参数的构造器，实例化对象时，只初始化标题，并且实例化两个对象：<ul>
<li>新闻一：新冠确诊病例超干万，数百万印度教信徒赴恒河「圣浴」引民众担忧</li>
<li>新闻二：男子突然想起 2 个月前钓的鱼还在网兜里，捞起一看赶紧放生</li>
</ul>
</li>
<li>将新闻对象添加到 <code>ArrayList</code> 集合中，并且进行倒序遍历</li>
<li>在遍历集合过程中，对新闻标题进行处理，超过 15 字的只保留前 15 个，然后在后边加 「…」</li>
<li>在控制台打印遍历出经过处理的新闻标题</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">ArrayList</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">News</span>(<span class="hljs-string">&quot;新闻一：新冠确诊病例超干万，数百万印度教信徒赴恒河「圣浴」引民众担忧&quot;</span>));<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">News</span>(<span class="hljs-string">&quot;新闻二：男子突然想起 2 个月前钓的鱼还在网兜里，捞起一看赶紧放生&quot;</span>));<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> list.size() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-type">News</span> <span class="hljs-variable">news</span> <span class="hljs-operator">=</span> (News) list.get(i);<br>            System.out.println(processTitle(news.getTitle()));<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 处理新闻标题</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">processTitle</span><span class="hljs-params">(String title)</span> &#123;<br>        <span class="hljs-keyword">if</span> (title == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (title.length() &gt; <span class="hljs-number">15</span>) &#123;<br>            <span class="hljs-keyword">return</span> title.substring(<span class="hljs-number">0</span>, <span class="hljs-number">15</span>) + <span class="hljs-string">&quot;...&quot;</span>; <span class="hljs-comment">// [0, 15) 不包括 15</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> title;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">News</span> &#123;<br>    <span class="hljs-keyword">private</span> String title;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">News</span><span class="hljs-params">(String title)</span> &#123;<br>        <span class="hljs-built_in">this</span>.title = title;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getTitle</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> title;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTitle</span><span class="hljs-params">(String title)</span> &#123;<br>        <span class="hljs-built_in">this</span>.title = title;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> title + <span class="hljs-string">&quot;&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>ArrayList 的方法练习</p>
<ul>
<li>使用 <code>ArrayList</code> 完成对对像 <code>Car&#123;name, price&#125;</code> 的各种操作<ol>
<li><code>add</code>: 添加单个元素</li>
<li><code>remove</code>: 删除指定元素</li>
<li><code>contains</code>: 查找元素是否存在</li>
<li><code>size</code>: 获取元素个数</li>
<li><code>isEmpty</code>: 判断是否为空</li>
<li><code>clear</code>: 清空</li>
<li><code>addAll</code>: 添加多个元素</li>
<li><code>containsAll</code>: 查找多个元素是否都存在</li>
<li><code>removeAll</code>: 删除多个元素</li>
</ol>
</li>
<li>使用增强 <code>for</code> 和迭代器来遍历所有的 <code>Car</code> 对象，需要重写 <code>Car</code> 的 <code>toString</code> 方法</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">ArrayList</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        <span class="hljs-comment">// 添加元素</span><br>        <span class="hljs-type">Car</span> <span class="hljs-variable">bmw</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-string">&quot;宝马&quot;</span>, <span class="hljs-number">80000</span>);<br>        <span class="hljs-type">Car</span> <span class="hljs-variable">rollsRoyce</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-string">&quot;劳斯莱斯&quot;</span>, <span class="hljs-number">5000000</span>);<br>        <span class="hljs-type">Car</span> <span class="hljs-variable">bentley</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-string">&quot;宾利&quot;</span>, <span class="hljs-number">3000000</span>);<br>        list.add(bmw);<br>        list.add(rollsRoyce);<br>        list.add(bentley);<br>        System.out.println(list);<br><br>        <span class="hljs-comment">// 删除元素</span><br>        list.remove(<span class="hljs-number">1</span>);<br>        System.out.println(list);<br><br>        <span class="hljs-comment">// 查找元素</span><br>        System.out.println(list.contains(bmw));<br><br>        <span class="hljs-comment">// 获取元素个数</span><br>        System.out.println(list.size());<br><br>        <span class="hljs-comment">// 判断是否为空</span><br>        System.out.println(list.isEmpty());<br><br>        <span class="hljs-comment">// 清空</span><br>        <span class="hljs-comment">// list.clear();</span><br><br>        <span class="hljs-comment">// 添加多个元素</span><br>        <span class="hljs-type">ArrayList</span> <span class="hljs-variable">list2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        list2.addAll(list);<br>        System.out.println(list2);<br><br>        <span class="hljs-comment">// 查找多个元素</span><br>        System.out.println(list.containsAll(list2));<br><br>        <span class="hljs-comment">// 删除多个元素</span><br>        list2.removeAll(list);<br>        System.out.println(list2);<br><br>        System.out.println(<span class="hljs-string">&quot;===使用增强 for 循环遍历===&quot;</span>);<br>        <span class="hljs-keyword">for</span> (Object object : list) &#123;<br>            System.out.println(object);<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;===使迭代器循环遍历===&quot;</span>);<br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> list.iterator();<br>        <span class="hljs-keyword">while</span> (it.hasNext()) &#123;<br>            <span class="hljs-type">Object</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> it.next(); <span class="hljs-comment">// 向上转型</span><br>            System.out.println(next);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Car</span><span class="hljs-params">(String name, <span class="hljs-type">double</span> price)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.price = price;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;\n&#123;名称：&quot;</span> + name + <span class="hljs-string">&quot;\n价格：&quot;</span> + price + <span class="hljs-string">&quot;&#125;&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>HashMap 练习</p>
<ol>
<li>使 <code>HashMap</code> 类实例化一个 <code>Map</code> 类型的对象 <code>m</code>，键 (<code>String</code>) 和值 (<code>int</code>) 分别用于存储长工的姓名和工资，存入数据如下：<code>jack - 650</code>；<code>tom - 1200</code>；<code>smith - 2900</code>；</li>
<li>将 <code>jack</code> 的工资更改为 <code>2600</code> 元</li>
<li>为所有员工工资加薪 <code>100</code> 元：</li>
<li>遍历集合中所有的员工</li>
<li>遍历集合中所有的工资</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework03</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Map</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>();<br><br>        m.put(<span class="hljs-string">&quot;jack&quot;</span>, <span class="hljs-number">650</span>);<br>        m.put(<span class="hljs-string">&quot;tom&quot;</span>, <span class="hljs-number">1200</span>);<br>        m.put(<span class="hljs-string">&quot;smith&quot;</span>, <span class="hljs-number">2900</span>);<br>        System.out.println(m);<br><br>        m.put(<span class="hljs-string">&quot;jack&quot;</span>, <span class="hljs-number">2600</span>);<br>        System.out.println(m);<br><br>        <span class="hljs-comment">// 工资 + 100</span><br>        <span class="hljs-type">Set</span> <span class="hljs-variable">keySet</span> <span class="hljs-operator">=</span> m.keySet();<br>        <span class="hljs-keyword">for</span> (Object key : keySet) &#123;<br>            m.put(key, (Integer) m.get(key) + <span class="hljs-number">100</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// 遍历 key 姓名</span><br>        <span class="hljs-type">Set</span> <span class="hljs-variable">entrySet</span> <span class="hljs-operator">=</span> m.entrySet();<br>        <span class="hljs-keyword">for</span> (Object entry : entrySet) &#123;<br>            Map.<span class="hljs-type">Entry</span> <span class="hljs-variable">me</span> <span class="hljs-operator">=</span> (Map.Entry) entry;<br>            System.out.println(me.getKey());<br>        &#125;<br><br>        <span class="hljs-comment">// 遍历 value 工资</span><br>        <span class="hljs-keyword">for</span> (Object key : keySet) &#123;<br>            System.out.println(m.get(key));<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>简答题<br> 试分析 <code>HashSet</code> 和 <code>TreeSet</code> 分别如何实现去重的</p>
<ul>
<li><code>HashSet</code> 的去重机制：<code>hash</code> + <code>equals()</code>，底层先通过存入对象，进行运算得到 <code>hash</code> 值，通过 <code>hash</code> 值得到对应的索引。如果发现 <code>table</code> 索引所在的位置没有数据，就直接存放；如果有数据，就进行 <code>equals()</code> 遍历比较，如果比较结果不相同，则存放数据</li>
<li><code>TreeSet</code> 的去重机制：如果传入了一个 <code>Comparator</code> 匿名对象，就使用实现的 <code>compare()</code> 方法去重，如果方法返回 0，就认为是相同的元素&#x2F;数据，则不添加；如果没有传入一个 <code>Comparator</code> 匿名对象，则使用实现 <code>Comparable</code> 接口的对象的 <code>compareTo()</code> 方法去重</li>
</ul>
</li>
<li><p>代码分析题：Homework05.java</p>
<ul>
<li><p>下面代码运行会不会抛出异常，并从源码层面说明原因。【考察读源码+接口编程+动态绑定】</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">TreeSet</span> <span class="hljs-variable">treeSet</span> <span class="hljs-operator">=</span>  <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeSet</span>();<br>treeSet.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>());<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>会报 <code>ClassCastException</code> 异常。因为 <code>TreeSet()</code> 构造器没有传入 <code>Comparator</code> 接口的匿名内部类，所以底层会尝试把 <code>Person</code> 对象转成 <code>Comparable</code> 类型，而 <code>Person</code> 类没有实现 <code>Comparable</code> 接口，所以会报错</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 源码</span><br><span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Object k1, Object k2)</span> &#123;<br>        <span class="hljs-keyword">return</span> comparator==<span class="hljs-literal">null</span> ? ((Comparable&lt;? <span class="hljs-built_in">super</span> K&gt;)k1).compareTo((K)k2)<br>            : comparator.compare((K)k1, (K)k2);<br>    &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>解决方法：<code>Person</code> 类实现 <code>Comparable</code> 接口，并重写 <code>compareTo()</code> 方法</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>下面的代码输出什么</p>
<ul>
<li>已知：<code>Person</code> 类按照 <code>id</code> 和 <code>name</code> 重写了 <code>hashCode()</code> 和 <code>equals()</code> 方法，问下面代码输出什么？</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework06</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">HashSet</span> <span class="hljs-variable">set</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>();<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">1001</span>, <span class="hljs-string">&quot;AA&quot;</span>);<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">1002</span>, <span class="hljs-string">&quot;BB&quot;</span>);<br>        set.add(p1);<br>        set.add(p2);<br>        p1.name = <span class="hljs-string">&quot;CC&quot;</span>; <span class="hljs-comment">// hash 值未变</span><br>        set.remove(p1); <span class="hljs-comment">// 返回 false，查找 修改后的 hash 值为空，无法删除</span><br>        System.out.println(set); <span class="hljs-comment">// [&#123;id=1002, name=BB&#125;, &#123;id=1001, name=CC&#125;]</span><br>        set.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">1001</span>, <span class="hljs-string">&quot;CC&quot;</span>));<br>        System.out.println(set); <span class="hljs-comment">// [&#123;id=1002, name=BB&#125;, &#123;id=1001, name=CC&#125;, &#123;id=1001, name=CC&#125;]</span><br>        set.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">1001</span>, <span class="hljs-string">&quot;AA&quot;</span>)); <span class="hljs-comment">// 添加到 &#123;id=1001, name=&quot;CC&quot;&#125; 链表后</span><br>        System.out.println(set); <span class="hljs-comment">// [&#123;id=1002, name=BB&#125;, &#123;id=1001, name=CC&#125;, &#123;id=1001, name=CC&#125;, &#123;id=1001, name=AA&#125;]</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    String name;<br>    <span class="hljs-type">int</span> id;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(<span class="hljs-type">int</span> id, String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&#123;id=&quot;</span> + id + <span class="hljs-string">&quot;, name=&quot;</span> + name + <span class="hljs-string">&quot;&#125;&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">prime</span> <span class="hljs-operator">=</span> <span class="hljs-number">31</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>        result = prime * result + id;<br>        result = prime * result + ((name == <span class="hljs-literal">null</span>) ? <span class="hljs-number">0</span> : name.hashCode());<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == obj)<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span> (obj == <span class="hljs-literal">null</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (getClass() != obj.getClass())<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">other</span> <span class="hljs-operator">=</span> (Person) obj;<br>        <span class="hljs-keyword">if</span> (id != other.id)<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (name == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">if</span> (other.name != <span class="hljs-literal">null</span>)<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!name.equals(other.name))<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>分析：<br>  <img src="/img/java_learn/mk-2022-06-09-15-56.png" srcset="/img/loading.gif" lazyload alt="Homework06 分析"></li>
</ul>
</li>
<li><p>试写出 Vector 和 ArrayList 的比较</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">底层结构</th>
<th align="left">版本</th>
<th align="left">线程安全（同步）效率</th>
<th align="left">扩容倍数</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ArrayList</td>
<td align="left">Object[] 数组</td>
<td align="left">JDK 1.2</td>
<td align="left">不安全，效率高</td>
<td align="left">如果是无参构造器，第一次扩容到 10，从第二次开始按照 1.5 倍扩容；如果使用有参构造器，按照 1.5 倍扩容</td>
</tr>
<tr>
<td align="left">Vector</td>
<td align="left">Object[] 数组</td>
<td align="left">JDK 1.0</td>
<td align="left">安全，效率低</td>
<td align="left">如果是无参构造器，默认扩容到 10，满后，按照 2 倍扩容；如果是指定大小创建 Vector，则每次按照 2 倍扩容</td>
</tr>
</tbody></table>
</li>
</ol>
<h2 id="十四、泛型"><a href="#十四、泛型" class="headerlink" title="十四、泛型"></a>十四、泛型</h2><h3 id="泛型的理解与优点"><a href="#泛型的理解与优点" class="headerlink" title="泛型的理解与优点"></a>泛型的理解与优点</h3><ol>
<li><p>引出泛型<br> 编写程序：</p>
<ol>
<li>在 <code>ArrayList</code> 中，添加 3 个 <code>Dog</code> 对象</li>
<li><code>Dog</code> 对象含有 <code>name</code> 和 <code>age</code>，并输出 <code>name</code> 和 <code>age</code>（要求使用 <code>getXxx()</code>）</li>
</ol>
<ul>
<li><p>传统方法：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Generic_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 传统方法解决</span><br>        <span class="hljs-type">ArrayList</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br><br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;jack&quot;</span>, <span class="hljs-number">2</span>));<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;tom&quot;</span>, <span class="hljs-number">3</span>));<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;smith&quot;</span>, <span class="hljs-number">1</span>));<br><br>        <span class="hljs-keyword">for</span> (Object o : list) &#123;<br>            <span class="hljs-comment">// 向下转型</span><br>            <span class="hljs-type">Dog</span> <span class="hljs-variable">dog</span> <span class="hljs-operator">=</span> (Dog) o;<br>            System.out.println(dog.getName() + <span class="hljs-string">&quot;, &quot;</span> + dog.getAge());<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Dog</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>传统方法的弊端：</p>
<ol>
<li>不能对加入到集合 ArrayList 中的数据类型进行约束（不安全）</li>
<li>遍历时，需要进行类型转换，如果集合中的数据量较大，对效率有影响</li>
</ol>
</li>
<li><p>泛型解决：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Generic02</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>        <span class="hljs-comment">// 传统方法解决 ==&gt; 使用泛型</span><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        * 当  ArrayList&lt;Dog&gt; 表示存放到 ArrayList 中的元素是 Dog类型</span><br><span class="hljs-comment">        * 如果编译器发现添加的类型不满足要求，就会报错</span><br><span class="hljs-comment">        * 在遍历的时候，可以直接取出 Dog 类型，而不是 Object 类型</span><br><span class="hljs-comment">        */</span><br>        ArrayList&lt;Dog&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Dog&gt;();<br><br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;jack&quot;</span>, <span class="hljs-number">2</span>));<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;tom&quot;</span>, <span class="hljs-number">3</span>));<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&quot;smith&quot;</span>, <span class="hljs-number">1</span>));<br><br>        <span class="hljs-comment">// 假如不小心添加了一只猫</span><br>        <span class="hljs-comment">// list.add(new Cat(&quot;招财&quot;, 4));</span><br><br>        <span class="hljs-keyword">for</span> (Dog dog : list) &#123;<br>            System.out.println(dog.getName() + <span class="hljs-string">&quot;, &quot;</span> + dog.getAge());<br>        &#125;<br><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Dog</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Cat</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>泛型的优点</p>
<ol>
<li>编译时，检查添加元素的类型，提高了安全性</li>
<li>减少了类型转换的次数，提高效率</li>
<li>不再提示编译警告</li>
</ol>
</li>
</ol>
<h3 id="泛型使用说明"><a href="#泛型使用说明" class="headerlink" title="泛型使用说明"></a>泛型使用说明</h3><ol>
<li><p>泛型基本介绍</p>
<blockquote>
<p>泛（广泛）型（类型）&#x3D;&gt; <code>Integer, String, Dog</code></p>
</blockquote>
<ol>
<li><p>泛型又称参数化类型，是 JDK 5.0 出现的新特性，解决数据类型的安全性问题</p>
</li>
<li><p>在类声明或实例化时只要指定好需要的具体的类型即可</p>
</li>
<li><p>Java泛型可以保证如果程序在编译时没有发出警告，运行时就不会产生 <code>ClassCastException</code> 异常。同时，代码更加简洁、健壮</p>
</li>
<li><p>泛型的作用是：可以在类声明时通过一个标识表示类中某个属性的类型，或者是某个方法的返回值的类型，或者是参数类型</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Generic03</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 定义 Person 对象，E 的类型指定为 String</span><br>        Person&lt;String&gt; person1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>&lt;String&gt;(<span class="hljs-string">&quot;Hello&quot;</span>);<br><br>        Person&lt;Integer&gt; person2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>&lt;Integer&gt;(<span class="hljs-number">100</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&lt;E&gt; &#123;<br>    <span class="hljs-comment">// E 表示 s 的数据类型</span><br>    <span class="hljs-comment">// E 的数据类型在定义 Person 对象时指定，即在编译期间就确定 E 的类型</span><br>    E s;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(E s)</span> &#123; <span class="hljs-comment">// 参数类型</span><br>        <span class="hljs-built_in">this</span>.s = s;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> E <span class="hljs-title function_">f</span><span class="hljs-params">()</span> &#123; <span class="hljs-comment">// 返回类型</span><br>        <span class="hljs-keyword">return</span> s;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>泛型的语法</p>
<ul>
<li>声明<ul>
<li><code>interface 接口&lt;T&gt;&#123;&#125;</code> 和 <code>class 类&lt;K, V&gt; &#123;&#125;</code>，如：<code>List, ArrayList</code></li>
<li>其中，<code>T, K, V</code> 不代表值，而是表示数据类型</li>
<li>任意字母都可以，常用 <code>T</code> 表示，是 <code>Type</code> 的缩写</li>
</ul>
</li>
<li>实例化<ul>
<li>在类名后面指定类型参数的值</li>
<li><code>List&lt;String&gt; strList = new ArrayList&lt;String&gt;();</code></li>
<li><code>Iterator&lt;Customer&gt; iterator = customer.iterator();</code></li>
</ul>
</li>
</ul>
</li>
<li><p>泛型的入门</p>
<p> 举例说明，泛型在 <code>HashSet, HashMap</code> 的使用情况</p>
<ol>
<li>创建 3 个学生对象</li>
<li>放入到 <code>HashSet</code> 中学生对象，使用</li>
<li>放入到 <code>HashMap</code> 中，要求 <code>Key：String name, Value：学生对象</code></li>
<li>使用两种方式遍历</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenericExercise</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">st1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;Jack&quot;</span>, <span class="hljs-number">18</span>);<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">st2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;Mary&quot;</span>, <span class="hljs-number">20</span>);<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">st3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;Smith&quot;</span>, <span class="hljs-number">25</span>);<br><br>        HashSet&lt;Student&gt; hashSet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;Student&gt;();<br>        HashMap&lt;String, Student&gt; hashMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String, Student&gt;();<br><br>        hashSet.add(st1);<br>        hashSet.add(st2);<br>        hashSet.add(st3);<br><br>        hashMap.put(st1.getName(), st1);<br>        hashMap.put(st2.getName(), st2);<br>        hashMap.put(st3.getName(), st3);<br><br>        System.out.println(<span class="hljs-string">&quot;=== HashSet 遍历 ===&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;第一种方式&quot;</span>);<br>        <span class="hljs-keyword">for</span> (Student student : hashSet) &#123;<br>            System.out.println(student);<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;=== HashSet 遍历 ===&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;第二种方式&quot;</span>);<br>        Iterator&lt;Student&gt; it = hashSet.iterator();<br>        <span class="hljs-keyword">while</span> (it.hasNext()) &#123;<br>            System.out.println(it.next());<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;=== HashMap 遍历 ===&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;第一种方式&quot;</span>);<br>        Set&lt;String&gt; keySet = hashMap.keySet();<br>        <span class="hljs-keyword">for</span> (String key : keySet) &#123;<br>            System.out.println(key + <span class="hljs-string">&quot;, &quot;</span> + hashMap.get(key));<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;=== HashSet 遍历 ===&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;第二种方式&quot;</span>);<br>        Set&lt;Entry&lt;String, Student&gt;&gt; entrySet = hashMap.entrySet();<br>        <span class="hljs-keyword">for</span> (Entry&lt;String,Student&gt; entry : entrySet) &#123;<br>            System.out.println(entry.getKey() + <span class="hljs-string">&quot;, &quot;</span> + entry.getValue());<br>        &#125;<br><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Student [age=&quot;</span> + age + <span class="hljs-string">&quot;, name=&quot;</span> + name + <span class="hljs-string">&quot;]&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>泛型注意事项和使用细节</p>
<ol>
<li><code>interface List&lt;T&gt;&#123;&#125;, public class HashSet&lt;E&gt;&#123;&#125;</code> 等<br> 说明：<code>T, E</code> 只能是引用类型<br> 看看下面语句是否正确：<br> <code>List&lt;Integer&gt;list new ArrayList&lt;Integer&gt;();</code> ok<br> <code>List&lt;int&gt;list2 new ArrayList&lt;int&gt;();</code> 错误</li>
<li>在给泛型指定具体类型后，可以传入<strong>该类型或者其子类类型</strong></li>
<li>泛型使用形式<br> <code>List&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;();</code><br> <code>List&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();</code> 推荐写法，简写</li>
<li>如果我们这样写 <code>List list3 = new ArrayList();</code> 默认给它的泛型是 <code>&lt;E&gt;</code> ( E 就是 <code>Object</code>)</li>
</ol>
</li>
<li><p>泛型的使用案例</p>
<ol>
<li>定义 <code>Employee</code> 类，该类包含：<code>private</code> 成员变量 <code>name, sal, birthday</code>，其中 <code>birthday</code> 为 <code>MyDate</code> 类的对象</li>
<li>为每一个属性定义 <code>getter, setter</code> 方法</li>
<li>重写 <code>toString</code> 方法输出 <code>name, sal, birthday</code></li>
<li><code>MyDate</code> 类包含：<code>private</code> 成员变量 <code>month, day, year</code>，并为每一个属性定义 <code>getter, setter</code> 方法</li>
<li>创建该类的 3 个对象，并把这些对象放入 <code>ArrayList</code> 集合中（<code>ArrayList</code> 需使用泛型来定义），对集合中的元素进行排序，并遍历输出</li>
<li>排序方式：调用 <code>ArrayList</code> 的 <code>sort</code> 方法，传入 <code>Comparator</code> 对象（使用泛型），先按照 <code>name</code> 排序，如果 <code>name</code> 相同，则按生日日期的先后排序。【即：定制排序】</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Generic_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Employee</span> <span class="hljs-variable">tom1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;Tom&quot;</span>, <span class="hljs-number">20000</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDate</span>(<span class="hljs-number">2000</span>, <span class="hljs-number">7</span>, <span class="hljs-number">20</span>));<br>        <span class="hljs-type">Employee</span> <span class="hljs-variable">tom2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;Tom&quot;</span>, <span class="hljs-number">25000</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDate</span>(<span class="hljs-number">2000</span>, <span class="hljs-number">7</span>, <span class="hljs-number">17</span>));<br>        <span class="hljs-type">Employee</span> <span class="hljs-variable">jack</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;Jack&quot;</span>, <span class="hljs-number">50000</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyDate</span>(<span class="hljs-number">1980</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>));<br><br>        ArrayList&lt;Employee&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        list.add(tom1);<br>        list.add(tom2);<br>        list.add(jack);<br><br>        list.sort(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;Employee&gt;() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-comment">// 先按照名字排序，如果名字相同，按照出生日期从的先后排序</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Employee o1, Employee o2)</span> &#123;<br>                <span class="hljs-comment">// 先对传入的参数进行验证</span><br>                <span class="hljs-keyword">if</span> (!(o1 <span class="hljs-keyword">instanceof</span> Employee &amp;&amp; o2 <span class="hljs-keyword">instanceof</span> Employee)) &#123;<br>                    System.out.println(<span class="hljs-string">&quot;类型不正确&quot;</span>);<br>                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>                &#125;<br><br>                <span class="hljs-type">int</span> <span class="hljs-variable">nameMinus</span> <span class="hljs-operator">=</span> o1.getName().compareTo(o2.getName());<br><br>                <span class="hljs-type">MyDate</span> <span class="hljs-variable">d1</span> <span class="hljs-operator">=</span> o1.getBirthday();<br>                <span class="hljs-type">MyDate</span> <span class="hljs-variable">d2</span> <span class="hljs-operator">=</span> o2.getBirthday();<br>                <span class="hljs-comment">// 封装后，可维护性和复用性大大增强</span><br>                <span class="hljs-keyword">return</span> nameMinus != <span class="hljs-number">0</span> ? nameMinus : d1.compareTo(d2);<br>            &#125;<br>        &#125;);<br><br>        <span class="hljs-keyword">for</span> (Employee e : list) &#123;<br>            System.out.println(e);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> sal;<br>    <span class="hljs-keyword">private</span> MyDate birthday;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Employee</span><span class="hljs-params">(String name, <span class="hljs-type">double</span> sal, MyDate birthday)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.sal = sal;<br>        <span class="hljs-built_in">this</span>.birthday = birthday;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> MyDate <span class="hljs-title function_">getBirthday</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> birthday;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Employee [&quot;</span> + <span class="hljs-string">&quot;name=&quot;</span> + name + <span class="hljs-string">&quot;, sal=&quot;</span> + sal + <span class="hljs-string">&quot;, birthday=&quot;</span> + birthday + <span class="hljs-string">&quot;]&quot;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDate</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;MyDate&gt; &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> month;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> day;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> year;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyDate</span><span class="hljs-params">(<span class="hljs-type">int</span> year, <span class="hljs-type">int</span> month, <span class="hljs-type">int</span> day)</span> &#123;<br>        <span class="hljs-built_in">this</span>.month = month;<br>        <span class="hljs-built_in">this</span>.day = day;<br>        <span class="hljs-built_in">this</span>.year = year;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;[&quot;</span> + <span class="hljs-string">&quot;year=&quot;</span> + year + <span class="hljs-string">&quot;, month=&quot;</span> + month + <span class="hljs-string">&quot;, day=&quot;</span> + day + <span class="hljs-string">&quot;]&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(MyDate d)</span> &#123;<br>        <span class="hljs-comment">// this 可省略</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">yearMinus</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.year - d.year;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">monthMinus</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.month - d.month;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">dayMinus</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.day - d.day;<br><br>        <span class="hljs-keyword">return</span> yearMinus != <span class="hljs-number">0</span> ? yearMinus <span class="hljs-comment">// 判断年</span><br>                : monthMinus != <span class="hljs-number">0</span> ? monthMinus <span class="hljs-comment">// 判断月</span><br>                        : dayMinus; <span class="hljs-comment">// 如果年和月都相同，返回日</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="自定义泛型"><a href="#自定义泛型" class="headerlink" title="自定义泛型"></a>自定义泛型</h3><ol>
<li><p>自定义泛型类</p>
<ol>
<li><p>基本语法</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">class 类名&lt;T,R..&gt; &#123;<br>    成员;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>注意事项</p>
<ol>
<li>普通成员可以使用泛型（属性、方法）</li>
<li>使用泛型的数组，不能初始化</li>
<li>静态方法中不能使用类的泛型</li>
<li>泛型类的类型，是在创建对象时确定的（因为创建对像时，需要指定确定类型）</li>
<li>如果在创建对象时，没有指定类型，默认为 <code>Object</code></li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Tiger</span>&lt;T,R&gt; &#123;<br>    R r; <span class="hljs-comment">// 属性使用泛型</span><br>    T t;<br><br>    <span class="hljs-comment">// 使用泛型的数组，不能初始化</span><br>    <span class="hljs-comment">// 因为数组在 new 时，不能确定 T 的类型，就无法在内存开空间</span><br>    <span class="hljs-comment">// T[] ts = new T[8]; // 错误</span><br>    T[] ts;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Tiger</span><span class="hljs-params">(T t, R r)</span> &#123;<br>        <span class="hljs-built_in">this</span>.t = t;<br>        <span class="hljs-built_in">this</span>.r = r;<br>    &#125;<br><br>    <span class="hljs-comment">// 静态方法中不能使用类的泛型</span><br>    <span class="hljs-comment">// 因为静态方法和类相关，在类加载时，对象还没有创建</span><br>    <span class="hljs-comment">// 所以，如果静态方法属性使用了泛型，JVM就无法完成初始化</span><br>    <span class="hljs-comment">// static R r2; // 编译器报错</span><br>    <span class="hljs-comment">// public static void t1(T t) &#123;&#125; // 编译器报错</span><br><br>    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">t2</span><span class="hljs-params">(R r, T t)</span> &#123;<br>        <span class="hljs-comment">// 方法使用泛型</span><br>        <span class="hljs-comment">// 返回类型，参数列表</span><br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>案例演示<br> 下面的代码是否正确，并说明原因</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Generic03</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Tiger&lt;Double, String, Integer&gt; t = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Tiger</span>&lt;&gt;(<span class="hljs-string">&quot;John&quot;</span>);<br>        t.setT(<span class="hljs-number">10.9</span>); <span class="hljs-comment">// ok</span><br>        t.setT(<span class="hljs-string">&quot;yy&quot;</span>); <span class="hljs-comment">// no 类型错误 应为 Double 类型</span><br>        System.out.println(t);<br>        <span class="hljs-type">Tiger</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Tiger</span>(<span class="hljs-string">&quot;john~~&quot;</span>);<br>        t2.setT(<span class="hljs-string">&quot;yy&quot;</span>); <span class="hljs-comment">// ok 默认 Object 类型</span><br>        System.out.println(<span class="hljs-string">&quot;t2=&quot;</span> + t2);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Tiger</span>&lt;T, R, M&gt; &#123;<br>    String name;<br>    T t;<br>    R r;<br>    M m;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Tiger</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Tiger</span><span class="hljs-params">(T t)</span> &#123;<br>        <span class="hljs-built_in">this</span>.t = t;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setT</span><span class="hljs-params">(T t)</span> &#123;<br>        <span class="hljs-built_in">this</span>.t = t;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">getT</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>自定义泛型接口</p>
<ol>
<li><p>基本语法</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">interface 接口名&lt;T, R..&gt; &#123;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>注意事项</p>
<ol>
<li>接口中，静态成员也不能使用泛型（与泛型类规定相同）</li>
<li>泛型接口的类型，在<strong>继承接口</strong>或者<strong>实现接口</strong>时确定</li>
<li>没有指定类型，默认为 <code>Object</code></li>
</ol>
</li>
<li><p>案例演示</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IUsb</span>&lt;U, R&gt; &#123;<br>    <span class="hljs-comment">// 普通方法中，可以使用接口泛型</span><br>    R <span class="hljs-title function_">get</span><span class="hljs-params">(U u)</span>;<br><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">hi</span><span class="hljs-params">(R r)</span>;<br><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(R r1, R r2, U u1, U u2)</span>;<br><br>    <span class="hljs-comment">// 在 JDK8 中，可以在接口中使用默认方法</span><br>    <span class="hljs-keyword">default</span> R <span class="hljs-title function_">method</span><span class="hljs-params">(U u)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 在继承接口时，指定泛型接口的类型</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">IUsb</span>&lt;String, Double&gt; &#123;<br>&#125;<br><br><span class="hljs-comment">// 实现 IA 接口时，因为 IA 在继承 IUsu 接口时，指定了泛型类型</span><br><span class="hljs-comment">// 所以在实现 IUsu 接口的方法时，使用 String 替换 U，Double 替换 R</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AA</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IA</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Double <span class="hljs-title function_">get</span><span class="hljs-params">(String u)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hi</span><span class="hljs-params">(Double r)</span> &#123;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(Double r1, Double r2, String u1, String u2)</span> &#123;<br>    &#125;<br><br>&#125;<br><br><span class="hljs-comment">// 实现接口时，直接指定泛型接口的类型</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">BB</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IUsb</span>&lt;Integer, Float&gt; &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Float <span class="hljs-title function_">get</span><span class="hljs-params">(Integer u)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hi</span><span class="hljs-params">(Float r)</span> &#123;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(Float r1, Float r2, Integer u1, Integer u2)</span> &#123;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 没有指定类型，默认为 Object</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">CC</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IUsb</span>&lt;Object, Object&gt; &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">get</span><span class="hljs-params">(Object u)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hi</span><span class="hljs-params">(Object r)</span> &#123;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(Object r1, Object r2, Object u1, Object u2)</span> &#123;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>自定义泛型方法</p>
<ol>
<li><p>基本语法</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">修饰符 &lt;T, R..&gt; 返回类型 方法名(参数列表) &#123;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>注意事项</p>
<ol>
<li>泛型方法，可以定义在普通类中，也可以定义在泛型类中</li>
<li>当泛型方法被调用时，类型会确定</li>
<li><code>public void eat(E e) &#123;&#125;</code>,修饰符后没有 <code>&lt;T, R&gt; eat</code>，方法不是泛型方法，而是使用了泛型</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomMethodGeneric</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Car</span> <span class="hljs-variable">car</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>();<br>        <span class="hljs-comment">// 当调用方法时，传入参数，编译器就会确定类型</span><br>        car.fly(<span class="hljs-string">&quot;宝马&quot;</span>, <span class="hljs-number">100</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span> &#123; <span class="hljs-comment">// 普通类</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 普通方法</span><br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    * &lt;T, R&gt; 就是泛型</span><br><span class="hljs-comment">    * 提供给 fly() 方法使用</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-keyword">public</span> &lt;T, R&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">fly</span><span class="hljs-params">(T t, R r)</span> &#123;<br>        <span class="hljs-comment">// 泛型方法</span><br>        System.out.println(t.getClass().getSimpleName());<br>        System.out.println(r.getClass().getSimpleName());<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fish</span>&lt;T, R&gt; &#123; <span class="hljs-comment">// 泛型类</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 普通方法</span><br>    &#125;<br><br>    <span class="hljs-comment">// 泛型方法，可以使用类声明的泛型，也可以使用自己声明的泛型</span><br>    <span class="hljs-keyword">public</span> &lt;U, M&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">(U u, M m, T t, R r)</span> &#123;<br>        <span class="hljs-comment">// 泛型方法</span><br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    * 1. 下面的 hi 方法不是泛型方法</span><br><span class="hljs-comment">    * 2. 只是使用了类声明的泛型</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hi</span><span class="hljs-params">(T t)</span> &#123;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="泛型的继承、通配符与-JUnit"><a href="#泛型的继承、通配符与-JUnit" class="headerlink" title="泛型的继承、通配符与 JUnit"></a>泛型的继承、通配符与 JUnit</h3><ol>
<li><p>继承和通配符</p>
<ol>
<li>泛型不具备继承性<br> 错误写法：<code>List&lt;Object&gt; list = new ArrayList&lt;String&gt;();</code></li>
<li><code>&lt;?&gt;</code>: 支持任意泛型类型</li>
<li><code>&lt;? extends A&gt;</code>: 支持A类以及 A 类的子类，规定了泛型的上限</li>
<li><code>&lt;? super A&gt;</code>: 支持 A 类以及 A 类的父类，不限于直接父类，规定了泛型的下限</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenericExtends</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        ArrayList&lt;Object&gt; list1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        ArrayList&lt;String&gt; list2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        ArrayList&lt;AA&gt; list3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        ArrayList&lt;BB&gt; list4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        ArrayList&lt;CC&gt; list5 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><br>        <span class="hljs-comment">// List&lt;?&gt; 表示任意的泛型类型都可以接收</span><br>        printCollection1(list1);<br>        printCollection1(list2);<br>        printCollection1(list3);<br>        printCollection1(list4);<br>        printCollection1(list5);<br><br>        <span class="hljs-comment">// &lt;? extends AA&gt; 表示上限，可以接收 AA 或者 AA 的子类</span><br>        <span class="hljs-comment">// printCollection2(list1); // 错误，Object 不是 AA 的子类</span><br>        <span class="hljs-comment">// printCollection2(list2); // String 不是 AA 的子类</span><br>        printCollection2(list3);<br>        printCollection2(list4);<br>        printCollection2(list5);<br><br>        <span class="hljs-comment">// &lt;? super AA&gt; 表示下限，可以接收 AA 类以及 AA 类的父类</span><br>        printCollection3(list1);<br>        <span class="hljs-comment">// printCollection3(list2); // 错误</span><br>        printCollection3(list3);<br>        <span class="hljs-comment">// printCollection3(list4); // 错误</span><br>        <span class="hljs-comment">// printCollection3(list5); // 错误</span><br>    &#125;<br><br>    <span class="hljs-comment">// List&lt;?&gt; 表示任意的泛型类型都可以接收</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printCollection1</span><span class="hljs-params">(List&lt;?&gt; c)</span> &#123;<br>        <span class="hljs-keyword">for</span> (Object object : c) &#123;<br>            System.out.println(object);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// &lt;? extends AA&gt; 表示上限，可以接收 AA 或者 AA 的子类</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printCollection2</span><span class="hljs-params">(List&lt;? extends AA&gt; c)</span> &#123;<br>        <span class="hljs-keyword">for</span> (Object object : c) &#123;<br>            System.out.println(object);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// &lt;? super AA&gt; 表示下限，可以接收 AA 类以及 AA 类的父类，不限于直接父类</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printCollection3</span><span class="hljs-params">(List&lt;? <span class="hljs-built_in">super</span> AA&gt; c)</span> &#123;<br>        <span class="hljs-keyword">for</span> (Object object : c) &#123;<br>            System.out.println(object);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AA</span> &#123;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">BB</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AA</span> &#123;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">CC</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BB</span> &#123;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>JUnit 测试框架</p>
<ol>
<li><p>为什么需要 JUnit</p>
<ol>
<li>一个类有很多功能代码需要测试，为了测试，就需要写入到 main() 方法中</li>
<li>如果有多个功能代码测试，就需要来回注销，切换很麻烦</li>
<li>如果可以直接运行一个方法，就方便很多，并且可以给出相关信息</li>
</ol>
</li>
<li><p>基本介绍</p>
<ol>
<li>JUnit 是一个 Java 语言的单元测试框架</li>
<li>多数 Java 的开发环境都已经集成了 JUnit 作为单元测试的工具</li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/* </span><br><span class="hljs-comment"> * 演示 JUnit 的使用</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JUnit_</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123; <br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">m1</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;m1 方法&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">m2</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;m2 方法&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="十四章课后练习"><a href="#十四章课后练习" class="headerlink" title="十四章课后练习"></a>十四章课后练习</h3><ul>
<li><p>泛型与 JUnit 类<br>  定义一个泛型类 <code>DAO&lt;T&gt;</code>，在其中定义一个 <code>Map</code> 成员变量，<code>Map</code> 的键为 <code>String</code> 类型，值为 <code>T</code> 类型<br>  分别创建以下方法：</p>
<ol>
<li><code>public void save(String id,T entity)</code>: 保存 <code>T</code> 类型的对象到 <code>Map</code> 成员变量中</li>
<li><code>public T get(String id)</code>: 从 <code>Map</code> 中获取 <code>id</code> 对应的对象</li>
<li><code>public void update(String id, T entity)</code>: 替换 <code>Map</code> 中 <code>key</code> 为 <code>id</code> 的内容，改为 <code>entity</code> 对象</li>
<li><code>public List&lt;T&gt; list()</code>: 返回 <code>map</code> 中存放的所有 T 对象</li>
<li><code>public void delete(String id)</code>: 删除指定 <code>id</code> 对象<br>  定义一个 <code>User</code> 类：<br>  该类包含：<code>private</code> 成员变量：(<code>int</code>类型) <code>id,age</code>，(<code>String</code>类型) <code>name</code><br>  创建 <code>DAO</code> 类的对象，分别调用其 <code>save()、get()、update()、list()、delete()</code> 方法来操作 <code>User</code> 对象<br>  使用 <code>Junit</code> 单元测试类进行测试</li>
</ol>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Homework01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testList</span><span class="hljs-params">()</span> &#123;<br>        DAO&lt;User&gt; dao = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DAO</span>&lt;&gt;();<br>        dao.save(<span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;Jack&quot;</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>));<br>        dao.save(<span class="hljs-string">&quot;002&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;Mary&quot;</span>, <span class="hljs-number">18</span>, <span class="hljs-number">2</span>));<br>        dao.save(<span class="hljs-string">&quot;003&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;Smith&quot;</span>, <span class="hljs-number">25</span>, <span class="hljs-number">3</span>));<br><br>        System.out.println(<span class="hljs-string">&quot;\n&quot;</span> + dao.get(<span class="hljs-string">&quot;001&quot;</span>));<br><br>        dao.update(<span class="hljs-string">&quot;001&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;Jack&quot;</span>, <span class="hljs-number">16</span>, <span class="hljs-number">1</span>));<br>        System.out.println(<span class="hljs-string">&quot;\n&quot;</span> + dao.get(<span class="hljs-string">&quot;001&quot;</span>));<br><br>        dao.delete(<span class="hljs-string">&quot;003&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;\n&quot;</span> + dao);<br><br>        List&lt;User&gt; list = dao.list();<br>        System.out.println(<span class="hljs-string">&quot;\n&quot;</span> + list);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DAO</span>&lt;T&gt; &#123;<br>    <span class="hljs-keyword">private</span> Map&lt;String, T&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br><br>    <span class="hljs-comment">// 保存 T 类型的对象到 Map 成员变量中</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">(String id, T entity)</span> &#123;<br>        map.put(id, entity);<br>    &#125;<br><br>    <span class="hljs-comment">// 从 Map 中获取 id 对应的对象</span><br>    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">get</span><span class="hljs-params">(String id)</span> &#123;<br>        <span class="hljs-keyword">return</span> map.get(id);<br>    &#125;<br><br>    <span class="hljs-comment">// 替换 Map 中 key 为 id 的内容，改为 entity 对象</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(String id, T entity)</span> &#123;<br>        map.put(id, entity);<br>    &#125;<br><br>    <span class="hljs-comment">// 返回 map 中存放的所有 T 对象</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> List&lt;T&gt; <span class="hljs-title function_">list</span><span class="hljs-params">()</span> &#123;<br>        List&lt;T&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><br>        <span class="hljs-comment">// 方法 1</span><br>        Set&lt;String&gt; keySet = map.keySet();<br>        <span class="hljs-keyword">for</span> (String key : keySet) &#123;<br>            list.add(get(key)); <span class="hljs-comment">// 调用本类的 get() 方法</span><br>        &#125;<br><br>        <span class="hljs-comment">// 方法 2</span><br>        <span class="hljs-comment">// list.addAll(map.values());</span><br><br>        <span class="hljs-keyword">return</span> list;<br>    &#125;<br><br>    <span class="hljs-comment">// 删除指定 id 对象</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(String id)</span> &#123;<br>        map.remove(id);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;DAO [map=&quot;</span> + map + <span class="hljs-string">&quot;]&quot;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age, <span class="hljs-type">int</span> id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;User [age=&quot;</span> + age + <span class="hljs-string">&quot;, id=&quot;</span> + id + <span class="hljs-string">&quot;, name=&quot;</span> + name + <span class="hljs-string">&quot;]&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Java/" class="category-chain-item">Java</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Java/">#Java</a>
      
        <a href="/tags/%E5%AD%A6%E4%B9%A0/">#学习</a>
      
        <a href="/tags/%E6%8A%80%E6%9C%AF/">#技术</a>
      
    </div>
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/10/05/java_learn/Java%E5%9F%BA%E7%A1%80%204/" title="Java基础 第四章">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Java基础 第四章</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/10/05/java_learn/Java%E5%9F%BA%E7%A1%80%202/" title="Java基础 第二章">
                        <span class="hidden-mobile">Java基础 第二章</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
